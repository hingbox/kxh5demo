"function"!=typeof Object.assign&&!function(){"use strict";function t(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var e=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;Object.assign=function(o,n){for(var s,r,a=t(o),l=1;l<arguments.length;l++){s=Object(arguments[l]);for(var h in s)e.call(s,h)&&(a[h]=s[h]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(s);for(var u=0;u<r.length;u++)i.call(s,r[u])&&(a[r[u]]=s[r[u]])}}return a}}(),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=i.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var s,r,a=[];for(s in n)t.call(n,s)&&a.push(s);if(e)for(r=0;r<o;r++)t.call(n,i[r])&&a.push(i[r]);return a}}()),Array.prototype.map||(Array.prototype.map=function(t,e){var i,o,n;if(null==this)throw new TypeError(" this is null or not defined");var s=Object(this),r=s.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(i=e),o=new Array(r),n=0;n<r;){var a,l;n in s&&(a=s[n],l=t.call(i,a,n,s),o[n]=l),n++}return o}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,o=function(){},n=function(){return i.apply(this instanceof o?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(o.prototype=this.prototype),n.prototype=new o,n}),Array.prototype.reduce||(Array.prototype.reduce=function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var e,i=Object(this),o=i.length>>>0,n=0;if(2==arguments.length)e=arguments[1];else{for(;n<o&&!(n in i);)n++;if(n>=o)throw new TypeError("Reduce of empty array with no initial value");e=i[n++]}for(;n<o;n++)n in i&&(e=t(e,i[n],n,i));return e}),window.Messenger=function(){function t(t,e,i){var o="";if(arguments.length<2?o="target error - target and name are both required":"object"!=typeof t?o="target error - target itself must be window object":"string"!=typeof e&&(o="target error - target name must be string type"),o)throw new Error(o);this.target=t,this.name=e,this.prefix=i}function e(t,e){this.targets={},this.name=t,this.listenFunc=[],this.prefix=e||i,this.initListen()}var i="[PROJECT_NAME]",o="postMessage"in window;return o?t.prototype.send=function(t){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+t,"*")}:t.prototype.send=function(t){var e=window.navigator[this.prefix+this.name];if("function"!=typeof e)throw new Error("target callback function is not defined");e(this.prefix+t,window)},e.prototype.addTarget=function(e,i){var o=new t(e,i,this.prefix);this.targets[i]=o},e.prototype.initListen=function(){var t=this,e=function(e){"object"==typeof e&&e.data&&(e=e.data);for(var i=e.split("__Messenger__"),e=i[1],o=i[0].split("|"),n=o[0],s=o[1],r=0;r<t.listenFunc.length;r++)n+s===t.prefix+t.name&&t.listenFunc[r](e)};o?"addEventListener"in document?window.addEventListener("message",e,!1):"attachEvent"in document&&window.attachEvent("onmessage",e):window.navigator[this.prefix+this.name]=e},e.prototype.listen=function(t){for(var e=0,i=this.listenFunc.length,o=!1;e<i;e++)if(this.listenFunc[e]==t){o=!0;break}o||this.listenFunc.push(t)},e.prototype.clear=function(){this.listenFunc=[]},e.prototype.send=function(t){var e,i=this.targets;for(e in i)i.hasOwnProperty(e)&&i[e].send(t)},e}(),function(t){t.extend(t.fn,{cookie:function(e,i,o){var n,s,r,a;return arguments.length>1&&"[object Object]"!==String(i)?(o=t.extend({},o),null!==i&&void 0!==i||(o.expires=-1),"number"==typeof o.expires&&(n=24*o.expires*60*60*1e3,s=o.expires=new Date,s.setTime(s.getTime()+n)),i=String(i),document.cookie=[encodeURIComponent(e),"=",o.raw?i:encodeURIComponent(i),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")):(o=i||{},a=o.raw?function(t){return t}:decodeURIComponent,(r=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(r[1]):null)}})}(Zepto),function(t){var e=window.elab=window.elab||{};e.ajax=e.ajax||{},e.util=e.util||{};var i=t;if(!i)throw new Error("$ is undefined");i.extend(i.ajaxSettings,{dataType:"json",timeout:3e3,traditional:!0,contentType:"application/json"})}(window.$||Zepto),function(t,e){function i(t,e){if(0==t[e].length)return t[e]={};var i={};for(var o in t[e])g.call(t[e],o)&&(i[o]=t[e][o]);return t[e]=i,i}function o(t,e,n,s){var r=t.shift();if(!g.call(Object.prototype,n))if(r){var a=e[n]=e[n]||[];"]"==r?y(a)?""!=s&&a.push(s):"object"==typeof a?a[b(a).length]=s:a=e[n]=[e[n],s]:~v(r,"]")?(r=r.substr(0,r.length-1),!j.test(r)&&y(a)&&(a=i(e,n)),o(t,a,r,s)):(!j.test(r)&&y(a)&&(a=i(e,n)),o(t,a,r,s))}else y(e[n])?e[n].push(s):"object"==typeof e[n]?e[n]=s:"undefined"==typeof e[n]?e[n]=s:e[n]=[e[n],s]}function n(t,e,i){if(~v(e,"]")){var n=e.split("[");n.length;o(n,t,"base",i)}else{if(!j.test(e)&&y(t.base)){var s={};for(var r in t.base)s[r]=t.base[r];t.base=s}c(t.base,e,i)}return t}function s(t){if("object"!=typeof t)return t;if(y(t)){var e=[];for(var i in t)g.call(t,i)&&e.push(t[i]);return e}for(var o in t)t[o]=s(t[o]);return t}function r(t){var e={base:{}};return w(b(t),function(i){n(e,i,t[i])}),s(e.base)}function a(t,e){var i=x(String(t).split(e.separator),function(t,e){var i=v(e,"="),o=d(e),s=e.substr(0,o||i),r=e.substr(o||i,e.length),r=r.substr(v(r,"=")+1,r.length);return""==s&&(s=e,r=""),""==s?t:n(t,p(s),p(r))},{base:{}}).base;return s(i)}function l(t,e){if(!e)throw new TypeError("stringify expects an object");return e+"="+encodeURIComponent(t)}function h(t,e){var i=[];if(!e)throw new TypeError("stringify expects an object");for(var o=0;o<t.length;o++)i.push(z(t[o],e+"["+o+"]"));return i.join("&")}function u(t,e){for(var i,o=[],n=b(t),s=0,r=n.length;s<r;++s)i=n[s],""!=i&&(null==t[i]?o.push(encodeURIComponent(i)+"="):o.push(z(t[i],e?e+"["+encodeURIComponent(i)+"]":encodeURIComponent(i))));return o.join("&")}function c(t,e,i){var o=t[e];g.call(Object.prototype,e)||(void 0===o?t[e]=i:y(o)?o.push(i):t[e]=[o,i])}function d(t){for(var e,i,o=t.length,n=0;n<o;++n)if(i=t[n],"]"==i&&(e=!1),"["==i&&(e=!0),"="==i&&!e)return n}function p(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}}var m={},f=Object.prototype.toString,g=Object.prototype.hasOwnProperty,v="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},y=Array.isArray||function(t){return"[object Array]"==f.call(t)},b=Object.keys||function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},w="function"==typeof Array.prototype.forEach?function(t,e){return t.forEach(e)}:function(t,e){for(var i=0;i<t.length;i++)e(t[i])},x=function(t,e,i){if("function"==typeof t.reduce)return t.reduce(e,i);for(var o=i,n=0;n<t.length;n++)o=e(o,t[n]);return o},j=/^[0-9]+$/;m.parse=function(t,e){return null==t||""==t?{}:(e=e||{},e.separator=e.separator||"&","object"==typeof t?r(t):a(t,e))};var z=m.stringify=function(t,e){return y(t)?h(t,e):"[object Object]"==f.call(t)?u(t,e):"string"==typeof t?l(t,e):e+"="+encodeURIComponent(String(t))};e.qs=m}(window._||_,window.elab||elab),function(t,e){function i(t){for(var e,i=[],o=0,n=0,s="";null!=(e=g.exec(t));){var a=e[0],l=e[1],h=e.index;if(s+=t.slice(n,h),n=h+a.length,l)s+=l[1];else{s&&(i.push(s),s="");var u=e[2],c=e[3],d=e[4],p=e[5],m=e[6],f=e[7],v="+"===m||"*"===m,y="?"===m||"*"===m,b=u||"/",w=d||p||(f?".*":"[^"+b+"]+?");i.push({name:c||o++,prefix:u||"",delimiter:b,optional:y,repeat:v,pattern:r(w)})}}return n<t.length&&(s+=t.substr(n)),s&&i.push(s),i}function o(t){return n(i(t))}function n(e){for(var i=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(i[o]=new RegExp("^"+e[o].pattern+"$"));return function(o){for(var n="",s=o||{},r=0;r<e.length;r++){var a=e[r];if("string"!=typeof a){var l,h=s[a.name];if(null==h){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(t.isArray(h)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+h+'"');if(0===h.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var u=0;u<h.length;u++){if(l=encodeURIComponent(h[u]),!i[r].test(l))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+l+'"');n+=(0===u?a.prefix:a.delimiter)+l}}else{if(l=encodeURIComponent(h),!i[r].test(l))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+l+'"');n+=a.prefix+l}}else n+=a}return n}}function s(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function r(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function a(t,e){return t.keys=e,t}function l(t){return t.sensitive?"":"i"}function h(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var o=0;o<i.length;o++)e.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return a(t,e)}function u(t,e,i){for(var o=[],n=0;n<t.length;n++)o.push(p(t[n],e,i).source);var s=new RegExp("(?:"+o.join("|")+")",l(i));return a(s,e)}function c(t,e,o){for(var n=i(t),s=d(n,o),r=0;r<n.length;r++)"string"!=typeof n[r]&&e.push(n[r]);return a(s,e)}function d(t,e){e=e||{};for(var i=e.strict,o=e.end!==!1,n="",r=t[t.length-1],a="string"==typeof r&&/\/$/.test(r),h=0;h<t.length;h++){var u=t[h];if("string"==typeof u)n+=s(u);else{var c=s(u.prefix),d=u.pattern;u.repeat&&(d+="(?:"+c+d+")*"),d=u.optional?c?"(?:"+c+"("+d+"))?":"("+d+")?":c+"("+d+")",n+=d}}return i||(n=(a?n.slice(0,-2):n)+"(?:\\/(?=$))?"),n+=o?"$":i&&a?"":"(?=\\/|$)",new RegExp("^"+n,l(e))}function p(e,i,o){return i=i||[],t.isArray(i)?o||(o={}):(o=i,i=[]),e instanceof RegExp?h(e,i):t.isArray(e)?u(e,i,o):c(e,i,o)}var m=e.util=e.util||{};e.pathToRegexp=p,e.pathToRegexp.parse=i,e.pathToRegexp.compile=o,e.pathToRegexp.tokensToFunction=n,e.pathToRegexp.tokensToRegExp=d,m.getQueryString=function(i){return t.isEmpty(i)?null:e.qs.parse(window.location.search.substr(1))[i]},m.buildurl=function(i,o){if(!t.isEmpty(i)&&t.isString(i)){var n=e.config.routers[i];if(!t.isEmpty(n)){var s=e.pathToRegexp.compile(n.url);return s(o||{})}}},m.isMobile=function(t){return f.test(t)},m.isAuth=function(){var t=$.fn.cookie("isauth");return t&&"1"===t},m.redirect=function(i,o){if(!t.isEmpty(i))if(i=i.indexOf("?")==-1?i+"?_="+(new Date).getTime():i+"&_="+(new Date).getTime(),o&&(o=e.qs.stringify(o),i=i+"&"+o),/MSIE (\d+\.\d+);/.test(navigator.userAgent)||/MSIE(\d+\.\d+);/.test(navigator.userAgent)){var n=document.createElement("a");n.href=i,document.body.appendChild(n),n.click()}else location.href=i},m.currencyFormat=function(t){if("number"==typeof t)return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");try{return parseFloat(t).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}catch(e){}},m.back=function(){e.history.back()};var f=new RegExp("^0?(13[0-9]|15[012356789]|17[0-9]|18[0-9]|14[57])[0-9]{8}$"),g=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")}(window._||_,window.elab||elab),function(t,e,i){function o(){}var n=window.iAlert={dom:function(t){if(1==t.oButton.bType){var e="";for(var i in t.oButton.oSingle.aEvents)e+=t.oButton.oSingle.aEvents[i];var o='<div class="iAlert-box-actions-button noChoice" '+e+">"+t.oButton.oSingle.sText+"</div>"}else if(2==t.oButton.bType){var n="";for(var i in t.oButton.oMarried.oNegative.aEvents)n+=t.oButton.oMarried.oNegative.aEvents[i];var s="";for(var i in t.oButton.oMarried.oPositive.aEvents)s+=t.oButton.oMarried.oPositive.aEvents[i];var o='<div class="iAlert-box-actions-button negative" '+n+">"+t.oButton.oMarried.oNegative.sText+'</div><div class="iAlert-box-actions-button positive" '+s+">"+t.oButton.oMarried.oPositive.sText+"</div>"}else{console.log('"button.type" values are not specification');var o='<div class="iAlert-box-actions-button noChoice" onclick="iAlert.fnDel()">错误（关闭）！</div>'}var r="";for(var i in t.aContent)r+="<p>"+t.aContent[i]+"</p>";return['<div id="iAlert">','<div class="iAlert-box transition">','<div class="iAlert-box-content"><h2>',t.sTitle,"</h2>",r,"</div>",'<div class="iAlert-box-actions">',o,"</div>","</div>","</div>"].join("")},fnDel:function(i){e("#iAlert").remove(),t.isFunction(i)&&i()},fnAdd:function(t){e(document).ready(function(){document.getElementById("iAlert")?n.fnDel(function(){n.fnAdd(t)}):e("body").append(n.dom(t)).find("#iAlert").show()})},cb:{close:function(){},cancel:function(){},confirm:function(){}}},s=i.dialog={};s.alert=function(e,i,o,s){var r=[];t.isArray(i)?r=i:r.push(i),n.cb.close=t.isFunction(o)?o:function(){},n.fnAdd({sTitle:e||"提示",aContent:r,oButton:{bType:1,oSingle:{sText:s||"关闭",aEvents:['onclick="iAlert.fnDel();iAlert.cb.close()"']}}})},s.close=function(){n.fnDel()},s.confirm=function(e,i,o,s,r,a){var l=[];t.isArray(i)?l=i:l.push(i),n.cb.cancel=t.isFunction(s)?s:function(){},n.cb.confirm=t.isFunction(o)?o:function(){n.fnDel()},n.fnAdd({sTitle:e||"Title",aContent:l,oButton:{bType:2,oMarried:{oNegative:{sText:a||"取消",aEvents:['onclick="iAlert.fnDel();iAlert.cb.cancel()"']},oPositive:{sText:r||"确定",aEvents:['onclick="iAlert.cb.confirm()"']}}}})},s.$modal=!1;var r=i.modal={$container:!1,$mask:!1,$modal:!1,$content:!1,isframe:!1,cb:{cancel:o,confirm:o},messenger:{child:!1,parent:!1}},a=i.util.getQueryString("isframe");a="1"===a,a&&(r.messenger.child=new Messenger("child"),r.messenger.child.addTarget(window.parent,"parent"),e(window).on("unload",function(){r.messenger.child.targets.parent.send("close")}),r.close=function(){r.messenger.child.targets.parent.send("close")}),r.close=function(){r.hide(),r.messenger.child&&r.messenger.child.targets.parent.send("close")},r.hide=function(){i.modal.$content&&i.modal.$content.html(""),i.modal.$mask&&i.modal.$mask.addClass("elab-modal-mask-hidden"),i.modal.$modal&&i.modal.$modal.addClass("elab-modal-hidden")},r.show=function(n){var s="object"==typeof n?n:{};s=Object.assign({title:"",yesCB:o,noCB:o,content:"",iframe:!1,url:"",yesTxt:"确定",noTxt:"取消",noHead:!1,noFoot:!1},s),r.cb.cancel=t.isFunction(s.noCB)?s.noCB:o,r.cb.confirm=t.isFunction(s.yesCB)?s.yesCB:o;var a=e("body"),l=a.height();if(r.$container||(r.$container=e(['<div class="elab-modal-container">','<div class="elab-modal-wrap">','<div class="elab-modal-mask elab-modal-mask-hidden"></div>','<div class="elab-modal elab-modal-hidden" tabindex="0" role="dialog" style="left:0; top:0;">','<div class="elab-modal-content"></div>','<div tabindex="0" style="width:0;height:0;overflow:hidden;">hi</div>',"</div>","</div>","</div>"].join("")),a.append(r.$container),r.$mask=r.$container.find("div.elab-modal-mask"),r.$modal=r.$container.find("div.elab-modal"),r.$content=r.$modal.find("div.elab-modal-content")),r.$content.html(""),s.noHead||r.$content.append(['<div class="elab-modal-header">','<a tabindex="0" class="elab-modal-close">','<span class="elab-modal-close-x"></span>',"</a>",'<div class="elab-modal-title">',s.title,"</div>","</div>"].join("")),i.modal.isframe=s.iframe,s.iframe){r.$container.addClass("elab-modal-container-iframe");var h=s.url,u=(new Date).getTime();h=h.indexOf("?")==-1?h+"?isframe=1&t="+u:h+"&isframe=1&t="+u,r.$content.append(['<div class="elab-modal-body" style="height:',l,'px;">','<iframe id="elab-modal-iframe" name="elab-modal-iframe"  style="width:100%;height:100%;" scrolling="no" frameborder="no" src="',h,'"></iframe>',"</div>"].join("")),r.messenger.parent=new Messenger("parent"),r.messenger.parent.listen(function(t){"close"===t&&i.modal.isframe&&i.modal.hide()});var c=document.getElementById("elab-modal-iframe");r.messenger.parent.addTarget(c.contentWindow,"child")}else r.$content.append(['<div class="elab-modal-body">',s.content,"</div>"].join("")),r.$container.removeClass("elab-modal-container-iframe");if(!s.noFoot){r.$content.append(['<div class="elab-modal-footer">','<button type="button" class="elab-btn elab-btn-ghost elab-btn-lg">',"<span>",s.noTxt,"</span>","</button>",'<button type="button" class="elab-btn elab-btn-primary elab-btn-lg">',"<span>",s.yesTxt,"</span>","</button>","</div>"].join(""));var d=r.$content.children("div.elab-modal-footer").find("button");d.eq(0).one("click",function(){i.modal.hide(),i.modal.cb.cancel()}),d.eq(1).one("click",function(){i.modal.hide(),i.modal.cb.confirm()})}i.modal.$mask.removeClass("elab-modal-mask-hidden"),i.modal.$modal.removeClass("elab-modal-hidden")};var l=!1,h=i.mask={};h.show=function(){l?l.css({display:"block"}):(l=e(['<div class="elab-mask">','<img src="/img/loading/c.gif"></img>',"</div>"].join("")),e("body").append(l))},h.hide=function(){l&&l.hide()};var u=i.message={};u.hide=function(){i.message.$e&&(i.message.$box.removeAttr("style"),i.message.$e.addClass("elab-message-hide").hide())},u.success=function(t,e){u.show(t,e||1e3,"succee-icon")},u.error=function(t,e){u.show(t,e||1e3,"error-icon")},u.show=function(t,o,n){o=o||1e3,n=n||"succee-icon",i.message.$e?i.message.$e.css("display","block"):(i.message.$e=e(['<div class="elab-message elab-message-hide">','<div class="message-box">','<div class="message-box-icon">','<i class="bottom-focus-icon ',n,'"></i>',"</div>",'<div class="message-box-content"></div>',"</div>","</div>"].join("")),e("body").append(i.message.$e),i.message.$box=i.message.$e.children("div.message-box").first(),i.message.$msg=i.message.$box.children("div.message-box-content").first()),i.message.$msg.html(t);var s=i.message.$box.offset();i.message.$box.css({"margin-left":-Math.round(s.width/2),"margin-top":-Math.round(s.height/2)}),i.message.$e.removeClass("elab-message-hide"),window.setTimeout(function(){i.message.hide()},o)},i.history={add:function(t){var e=i.history.getLocal();e||(e=[]),t&&(t=t.replace(/_=(\d)*&/gi,"").replace(/_=(\d)*/gi,""));var o=e.pop();o&&o==t||o&&e.push(o),e.push(t),i.history.saveLocal(e)},back:function(){var t=i.history.getLocal(),e=!1,o=!1;return i.history.skipCurrentPage?o=t.pop():(e=t.pop(),o=t.pop()),o?(i.history.saveLocal(t),void(window.location.href=o)):void(e||i.history.add(e))},length:function(){var t=i.history.getLocal()||[];return t.length},getLocal:function(){var t=store.get(i.history.key);return t?JSON.parse(t):null},saveLocal:function(t){store.set(i.history.key,JSON.stringify(t))},init:function(){i.history.saveLocal([])},key:"_history_",skipCurrentPage:!1}}(window._||_,window.$||Zepto,window.elab||elab),function(t,e){"use strict";function i(){}function o(){var e=this.options,i=this.$e;t("body").addClass("refresher"),i.wrap('<div class="refresher-wrapper"><div class="refresher-scroller" /></div>'),this.$scroller=i.parent(),this.$wrapper=this.$scroller.parent(),e.pullUp&&(this.$scroller.append(['<div class="pull-up invisible"><span class="pull-up-icon"></span><span class="pull-up-label">',this.options.pullUpText,"</span></div>"].join("")),this.$pullUp=this.$scroller.children("div.pull-up").first(),this.pullUpEl=this.$pullUp[0]),e.pullDown&&(this.$scroller.prepend(['<div class="pull-down scrolled-up"><span class="pull-down-icon"></span><span class="pull-down-label">',this.options.pullDownText,"</span></div>"].join("")),this.$pullDown=this.$scroller.children("div.pull-down").first(),this.pullDownEl=this.$pullDown[0],this.pullDownOffset=this.pullDownEl.offsetHeight);var o=this.iScroll=new IScroll(this.$wrapper[0],this.options.scrollConfig);o.on("refresh",this.onIScrollRefresh.bind(this)),o.on("scrollStart",this.onIScrollScrollStart.bind(this)),o.on("scroll",this.onIScrollScroll.bind(this)),o.on("scrollEnd",this.onIScrollScrollEnd.bind(this)),document.addEventListener("touchmove",function(t){t.preventDefault()},!1)}var n=".elab.zepto.refresher",s=e.parse(navigator.userAgent),r=function(e,i){this.options=t.extend(!0,{},r.defaults,i),this.$e=t(e)};r.defaults={pullUp:!0,pullDown:!0,pullThreshold:5,pullUpText:"上拉加载更多",pullDownText:"下拉刷新",pullUpReleaseText:"释放后加载更多",pullDownReleaseText:"释放后刷新",pullDownWaitText:"正在刷新",pullUpWaitText:"正在加载",pullDownActionHandler:i,pullUpActionHandler:i,onScrollStart:i,onScroll:i,onScrollEnd:i,scrollConfig:{probeType:2,bounceTime:250,bounceEasing:"quadratic",mouseWheel:!0,disableMouse:"Mobile"===s.device.type,click:!0}},r.prototype.getEl=function(){return this.el},r.prototype.hidePullDown=function(t,e){if(this.options.pullDown){var i=this;this.pullDownEl.style.transitionDuration=t>0?t+"ms":"",this.pullDownEl.style.marginTop="",this.pullDownEl.className="pull-down scrolled-up",e&&setTimeout(function(){i.iScroll.refresh()},t+10)}},r.prototype.showPullDown=function(t){this.pullDownEl.style.transitionDuration="",this.pullDownEl.style.marginTop="",this.pullDownEl.className="pull-down "+t},r.prototype.refresh=function(){this.iScroll.refresh(),this.pullUpEl.className="pull-up invisible"},r.prototype.onIScrollRefresh=function(){if(this.options.pullDown&&this.pullDownEl.className.match("loading"))if(this.$pullDown.find(".pull-down-label").html(this.options.pullDownText),this.iScroll.y>=0)this.hidePullDown(250,!0);else if(this.iScroll.y>-this.pullDownOffset){this.pullDownEl.style.marginTop=this.iScroll.y+"px",this.pullDownEl.offsetHeight;var t=250*(this.pullDownOffset+this.y)/this.pullDownOffset;this.iScroll.scrollTo(0,0,0),setTimeout(function(){this.hidePullDown(t,!0)},0)}else this.hidePullDown(0,!0),this.iScroll.scrollBy(0,this.pullDownOffset,0);this.options.pullUp&&this.pullUpEl.className.match("loading")&&(this.pullUpEl.className="pull-up",this.$pullUp.find(".pull-up-label").html(this.options.pullUpText))},r.prototype.onIScrollScrollStart=function(){this.scrollStartPos=this.iScroll.y,this.options.onScrollStart()},r.prototype.onIScrollScroll=function(){(this.options.pullDown||this.options.pullUp)&&(0==this.scrollStartPos&&0==this.iScroll.y?(this.iScroll.hasVerticalScroll=!0,this.scrollStartPos=-1e3):this.scrollStartPos==-1e3&&(!this.options.pullUp&&!this.pullDownEl.className.match("flip")&&this.iScroll.y<0||!this.options.pullDown&&!this.pullUpEl.className.match("flip")&&this.iScroll.y>0)&&(this.iScroll.hasVerticalScroll=!1,this.scrollStartPos=0,this.iScroll.scrollBy(0,-this.iScroll.y,0))),this.options.pullDown&&(this.iScroll.y>this.pullDownOffset+this.options.pullThreshold&&!this.pullDownEl.className.match("flip")?(this.showPullDown("flip"),this.iScroll.scrollBy(0,-this.pullDownOffset,0),this.$pullDown.find(".pull-down-label").html(this.options.pullDownReleaseText)):this.iScroll.y<0&&this.pullDownEl.className.match("flip")&&(this.hidePullDown(0,!1),this.iScroll.scrollBy(0,this.pullDownOffset,0),this.$pullDown.find(".pull-down-label").html(this.options.pullDownText))),this.options.pullUp&&(this.iScroll.y<this.iScroll.maxScrollY-this.options.pullThreshold&&!this.pullUpEl.className.match("flip")?(this.pullUpEl.className="pull-up flip",this.$pullUp.find(".pull-up-label").html(this.options.pullUpReleaseText)):this.iScroll.y>this.iScroll.maxScrollY+this.options.pullThreshold&&this.pullUpEl.className.match("flip")&&(this.pullUpEl.className="pull-up",this.$pullUp.find(".pull-up-label").html(this.options.pullUpText))),this.options.onScroll()},r.prototype.onIScrollScrollEnd=function(){this.options.pullDown&&this.pullDownEl.className.match("flip")&&(this.showPullDown("loading"),this.$pullDown.find(".pull-down-label").html(this.options.pullDownWaitText),this.options.pullDownActionHandler.call(this)),this.options.pullUp&&this.pullUpEl.className.match("flip")&&(this.pullUpEl.className="pull-up loading",this.$pullUp.find(".pull-up-label").html(this.options.pullUpWaitText),this.options.pullUpActionHandler.call(this)),(this.scrollStartPos=-1e3)&&(this.iScroll.hasVerticalScroll=this.iScroll.options.scrollY&&this.iScroll.maxScrollY<0),this.options.onScrollEnd()};var a=t.fn.refresher;t.fn.refresher=function(e){if(!IScroll)return void console.log("iScroll.js required");var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),a=s.data(n),l="object"==typeof e?e:{};return a?"string"==typeof e?a[e].apply(a,i):void 0:(s.data(n,!0),a=new r(this,l),o.call(a))})},t.fn.refresher.Constructor=r,t.fn.refresher.noConflict=function(){return t.fn.refresher=a,this}}(Zepto,detect||window.detect),function(t){"use strict";function e(t){return t<128?[t]:t<2048?(c0=192+(t>>6),c1=128+(63&t),[c0,c1]):(c0=224+(t>>12),c1=128+(t>>6&63),c2=128+(63&t),[c0,c1,c2])}function i(t){for(var i=[],o=0;o<t.length;o++)for(var n=t.charCodeAt(o),s=e(n),r=0;r<s.length;r++)i.push(s[r]);return i}function o(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=i(t),this.make()}function n(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var o=0;o<t.length-i;o++)this.num[o]=t[o+i]}function s(){this.buffer=new Array,this.length=0}o.prototype={constructor:o,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(0<=i&&i<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=o&&o<=4?this.modules[t+i][e+o]=!0:this.modules[t+i][e+o]=!1)},createQrcode:function(){for(var t=0,e=0,i=null,o=0;o<8;o++){this.makeImpl(o);var n=l.getLostPoint(this);(0==o||t>n)&&(t=n,e=o,i=this.modules)}this.modules=i,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=l.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var o=t[e],n=t[i];if(null==this.modules[o][n])for(var s=-2;s<=2;s++)for(var r=-2;r<=2;r++)s==-2||2==s||r==-2||2==r||0==s&&0==r?this.modules[o+s][n+r]=!0:this.modules[o+s][n+r]=!1}},setupTypeNumber:function(t){for(var e=l.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var o=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=o,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=o}},setupTypeInfo:function(t,e){for(var i=r[this.errorCorrectLevel]<<3|e,o=l.getBCHTypeInfo(i),n=0;n<15;n++){var s=!t&&1==(o>>n&1);n<6?this.modules[n][8]=s:n<8?this.modules[n+1][8]=s:this.modules[this.moduleCount-15+n][8]=s;var s=!t&&1==(o>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=s:n<9?this.modules[8][15-n-1+1]=s:this.modules[8][15-n-1]=s}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new s,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var i=0,n=this.utf8bytes.length;i<n;i++)t.put(this.utf8bytes[i],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;;){if(t.length>=8*this.totalDataCount)break;if(t.put(o.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(o.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,i=0,o=0,s=this.rsBlock.length/3,r=new Array,a=0;a<s;a++)for(var h=this.rsBlock[3*a+0],u=this.rsBlock[3*a+1],c=this.rsBlock[3*a+2],d=0;d<h;d++)r.push([c,u]);for(var p=new Array(r.length),m=new Array(r.length),f=0;f<r.length;f++){var g=r[f][0],v=r[f][1]-g;i=Math.max(i,g),o=Math.max(o,v),p[f]=new Array(g);for(var a=0;a<p[f].length;a++)p[f][a]=255&t.buffer[a+e];e+=g;var y=l.getErrorCorrectPolynomial(v),b=new n(p[f],y.getLength()-1),w=b.mod(y);m[f]=new Array(y.getLength()-1);for(var a=0;a<m[f].length;a++){var x=a+w.getLength()-m[f].length;m[f][a]=x>=0?w.get(x):0}}for(var j=new Array(this.totalDataCount),z=0,a=0;a<i;a++)for(var f=0;f<r.length;f++)a<p[f].length&&(j[z++]=p[f][a]);for(var a=0;a<o;a++)for(var f=0;f<r.length;f++)a<m[f].length&&(j[z++]=m[f][a]);return j},mapData:function(t,e){for(var i=-1,o=this.moduleCount-1,n=7,s=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var a=0;a<2;a++)if(null==this.modules[o][r-a]){var h=!1;s<t.length&&(h=1==(t[s]>>>n&1));var u=l.getMask(e,o,r-a);u&&(h=!h),this.modules[o][r-a]=h,n--,n==-1&&(s++,n=7)}if(o+=i,o<0||this.moduleCount<=o){o-=i,i=-i;break}}}},o.PAD0=236,o.PAD1=17;for(var r=[1,0,3,2],a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;l.getBCHDigit(e)-l.getBCHDigit(l.G15)>=0;)e^=l.G15<<l.getBCHDigit(e)-l.getBCHDigit(l.G15);return(t<<10|e)^l.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;l.getBCHDigit(e)-l.getBCHDigit(l.G18)>=0;)e^=l.G18<<l.getBCHDigit(e)-l.getBCHDigit(l.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return l.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case a.PATTERN000:return(e+i)%2==0;case a.PATTERN001:return e%2==0;case a.PATTERN010:return i%3==0;case a.PATTERN011:return(e+i)%3==0;case a.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case a.PATTERN101:return e*i%2+e*i%3==0;case a.PATTERN110:return(e*i%2+e*i%3)%2==0;case a.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new n([1],0),i=0;i<t;i++)e=e.multiply(new n([1,h.gexp(i)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,o=0,n=0;n<e;n++)for(var s=0,r=t.modules[n][0],a=0;a<e;a++){var l=t.modules[n][a];if(a<e-6&&l&&!t.modules[n][a+1]&&t.modules[n][a+2]&&t.modules[n][a+3]&&t.modules[n][a+4]&&!t.modules[n][a+5]&&t.modules[n][a+6]&&(a<e-10?t.modules[n][a+7]&&t.modules[n][a+8]&&t.modules[n][a+9]&&t.modules[n][a+10]&&(i+=40):a>3&&t.modules[n][a-1]&&t.modules[n][a-2]&&t.modules[n][a-3]&&t.modules[n][a-4]&&(i+=40)),n<e-1&&a<e-1){var h=0;l&&h++,t.modules[n+1][a]&&h++,t.modules[n][a+1]&&h++,t.modules[n+1][a+1]&&h++,0!=h&&4!=h||(i+=3)}r^l?s++:(r=l,s>=5&&(i+=3+s-5),s=1),l&&o++}for(var a=0;a<e;a++)for(var s=0,r=t.modules[0][a],n=0;n<e;n++){var l=t.modules[n][a];n<e-6&&l&&!t.modules[n+1][a]&&t.modules[n+2][a]&&t.modules[n+3][a]&&t.modules[n+4][a]&&!t.modules[n+5][a]&&t.modules[n+6][a]&&(n<e-10?t.modules[n+7][a]&&t.modules[n+8][a]&&t.modules[n+9][a]&&t.modules[n+10][a]&&(i+=40):n>3&&t.modules[n-1][a]&&t.modules[n-2][a]&&t.modules[n-3][a]&&t.modules[n-4][a]&&(i+=40)),r^l?s++:(r=l,s>=5&&(i+=3+s-5),s=1)}var u=Math.abs(100*o/e/e-50)/5;return i+=10*u}},h={glog:function(t){if(t<1)throw new Error("glog("+t+")");
return h.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return h.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},u=0;u<8;u++)h.EXP_TABLE[u]=1<<u;for(var u=8;u<256;u++)h.EXP_TABLE[u]=h.EXP_TABLE[u-4]^h.EXP_TABLE[u-5]^h.EXP_TABLE[u-6]^h.EXP_TABLE[u-8];for(var u=0;u<255;u++)h.LOG_TABLE[h.EXP_TABLE[u]]=u;n.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var o=0;o<t.getLength();o++)e[i+o]^=h.gexp(h.glog(this.get(i))+h.glog(t.get(o)));return new n(e,0)},mod:function(t){var e=this.getLength(),i=t.getLength();if(e-i<0)return this;for(var o=new Array(e),s=0;s<e;s++)o[s]=this.get(s);for(;o.length>=i;){for(var r=h.glog(o[0])-h.glog(t.get(0)),s=0;s<t.getLength();s++)o[s]^=h.gexp(h.glog(t.get(s))+r);for(;0==o[0];)o.shift()}return new n(o,0)}};var c=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];o.prototype.getRightType=function(){for(var t=1;t<41;t++){var e=c[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var i=e.length/3,o=0,n=0;n<i;n++){var s=e[3*n+0],r=e[3*n+2];o+=r*s}var a=t>9?2:1;if(this.utf8bytes.length+a<o||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=o;break}}},s.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var i=0;i<e;i++)this.putBit(t>>>e-i-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.QRCodeAlg=o}(window),function(t,e){"use strict";function i(){this.$e}var o=e.extend,n=[],s=t.QRCodeAlg,r=function(t){var e=t.options;return e.pdground&&(t.row>1&&t.row<5&&t.col>1&&t.col<5||t.row>t.count-6&&t.row<t.count-2&&t.col>1&&t.col<5||t.row>1&&t.row<5&&t.col>t.count-6&&t.col<t.count-2)?e.pdground:e.foreground},a=function(t){"string"==typeof t&&(t={text:t}),this.options=o({},{text:"",render:"",size:256,correctLevel:3,background:"#ffffff",foreground:"#000000",image:"",imageSize:30},t);for(var e=null,i=0,r=n.length;i<r;i++)if(n[i].text==this.options.text&&n[i].text.correctLevel==this.options.correctLevel){e=n[i].obj;break}if(i==r&&(e=new s(this.options.text,this.options.correctLevel),n.push({text:this.options.text,correctLevel:this.options.correctLevel,obj:e})),this.options.render)switch(this.options.render){case"canvas":return this.createCanvas(e);case"table":return this.createTable(e);case"svg":return this.createSVG(e);default:return this.createDefault(e)}return this.createDefault(e)};o(a.prototype,{createDefault:function(t){var e=document.createElement("canvas");if(e.getContext)return this.createCanvas(t);var i="http://www.w3.org/2000/svg";return document.createElementNS&&document.createElementNS(i,"svg").createSVGRect?this.createSVG(t):this.createTable(t)},createCanvas:function(t){var e=this.options,i=document.createElement("canvas"),o=i.getContext("2d"),n=t.getModuleCount(),s=function(t,e){var i=new Image;i.src=t,i.onload=function(){e(this),i.onload=null}},a=(e.size/n).toPrecision(4),l=(e.size/n).toPrecision(4);i.width=e.size,i.height=e.size;for(var h=0;h<n;h++)for(var u=0;u<n;u++){var c=Math.ceil((u+1)*a)-Math.floor(u*a),d=Math.ceil((h+1)*a)-Math.floor(h*a),p=r({row:h,col:u,count:n,options:e});o.fillStyle=t.modules[h][u]?p:e.background,o.fillRect(Math.round(u*a),Math.round(h*l),c,d)}return e.image&&s(e.image,function(t){var i=((e.size-e.imageSize)/2).toFixed(2),n=((e.size-e.imageSize)/2).toFixed(2);o.drawImage(t,i,n,e.imageSize,e.imageSize)}),i},createTable:function(t){var e=this.options,i=t.getModuleCount(),o=Math.floor(e.size/i),n=Math.floor(e.size/i);o<=0&&(o=i<80?2:1),n<=0&&(n=i<80?2:1);var s=[];s.push('<table style="border:0px; margin:0px; padding:0px; border-collapse:collapse; background-color:'+e.background+';">');for(var a=0;a<i;a++){s.push('<tr style="border:0px; margin:0px; padding:0px; height:'+n+'px">');for(var l=0;l<i;l++){var h=r({row:a,col:l,count:i,options:e});t.modules[a][l]?s.push('<td style="border:0px; margin:0px; padding:0px; width:'+o+"px; background-color:"+h+'"></td>'):s.push('<td style="border:0px; margin:0px; padding:0px; width:'+o+"px; background-color:"+e.background+'"></td>')}s.push("</tr>")}if(s.push("</table>"),e.image){var u=o*i,c=n*i,d=((u-e.imageSize)/2).toFixed(2),p=((c-e.imageSize)/2).toFixed(2);s.unshift("<div style='position:relative; \n                        width:"+u+"px; \n                        height:"+c+"px;'>"),s.push("<img src='"+e.image+"' \n                        width='"+e.imageSize+"' \n                        height='"+e.imageSize+"' \n                        style='position:absolute;left:"+d+"px; top:"+p+"px;'>"),s.push("</div>")}var m=document.createElement("span");return m.innerHTML=s.join(""),m.firstChild},createSVG:function(t){var e=this.options,i=t.getModuleCount(),o=i/e.size,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width",e.size),n.setAttribute("height",e.size),n.setAttribute("viewBox","0 0 "+i+" "+i);for(var s=0;s<i;s++)for(var a=0;a<i;a++){var l=document.createElementNS("http://www.w3.org/2000/svg","rect"),h=r({row:s,col:a,count:i,options:e});l.setAttribute("x",a),l.setAttribute("y",s),l.setAttribute("width",1),l.setAttribute("height",1),l.setAttribute("stroke-width",0),t.modules[s][a]?l.setAttribute("fill",h):l.setAttribute("fill",e.background),n.appendChild(l)}if(e.image){var u=document.createElementNS("http://www.w3.org/2000/svg","image");u.setAttributeNS("http://www.w3.org/1999/xlink","href",e.image),u.setAttribute("x",((i-e.imageSize*o)/2).toFixed(2)),u.setAttribute("y",((i-e.imageSize*o)/2).toFixed(2)),u.setAttribute("width",e.imageSize*o),u.setAttribute("height",e.imageSize*o),n.appendChild(u)}return n}});var l=".elab.zepto.qrcode",h=function(t,i){this.$e=e(t);var i=this.options=o(!0,{},h.defaults,i);this.$e.append(new a(i))};h.defaults={correctLevel:0,render:"svg",text:"hello world",size:200,pdground:"#00aaee"};var u=e.fn.qrcode;e.fn.qrcode=function(t){var o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this),s=n.data(l),r="object"==typeof t&&t;if(s||"destroy"!==t)return s?"string"==typeof t?s[t].apply(s,o):void 0:(n.data(l,s=new h(this,r)),i.call(s))})},e.fn.qrcode.Constructor=h,e.fn.qrcode.noConflict=function(){return e.fn.qrcode=u,this}}(window,Zepto),function(t){"use strict";var e=t.fn.currencyformat;t.fn.currencyformat=function(e){Array.prototype.slice.call(arguments,1);return this.each(function(){var e=t(this),i=t(this).data("value");try{i=parseFloat(i).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"),e.html(i)}catch(o){}})},t.fn.currencyformat.noConflict=function(){return t.fn.currencyformat=e,this},t(document).ready(function(){t('[data-toggle="currency"]').currencyformat()})}(Zepto),function(t){var e=t.fn.windowScroll;t.fn.windowScroll=function(){return this.scroll(function(){0!=t("body").scrollTop()?t(".header").removeClass("header-bg-a").addClass("header-bg-b"):t(".header").removeClass("header-bg-b").addClass("header-bg-a")})},t.fn.windowScroll.noConflict=function(){return t.fn.windowScroll=e,this}}(Zepto),function(t){"use strict";var e=t.fn.imgreview;t.fn.imgreview=function(e){if(0!=this.length){var i=t(".elab-imgreview");if(i.length>0&&i.remove(),!window.Swiper)return void console.log("Swiper.js required");var o=t("body"),n=o.width(),s=[],r={},a={};this.each(function(e){var i=t(this),o=i.data("src")||i.attr("src"),n=i.data("title"),a=i.data("group")||"undefined";r[a]?r[a].push({title:n,src:o}):(s.push(a),r[a]=[{title:n,src:o}]),i.data("index",r[a].length-1)});for(var l=0;l<s.length;l++){var h=s[l],u=r[h]||[],c=[],d=u.length>1?n-20:n;c.push('<div class="elab-imgreview elab-imgreview-hide">'),c.push('<div class="swiper-container">'),c.push('<div class="swiper-wrapper">');for(var p=0;p<u.length;p++){var m=u[p];c.push(['<div class="swiper-slide'," elab-imgreview-item-rear-",u.length-1-p," elab-imgreview-item-front-",p,'" style="width:',n,'px;">',"<div>",'<h2 style="width:',d,'px;" class="elab-imgreview-title">',m.title,"</h2>",'<img style="width:',d,'px;" src="',m.src,'"></img>',"</div>","</div>"].join(""))}c.push("</div>"),c.push('<div class="tx-c mt-10 elab-imgreview-close-btn"><div class="elab-imgreview-close-btn-txt">x</div></div>'),c.push("</div>"),c.push("</div>");var f=a[h]={$e:t(c.join(""))};o.append(f.$e),f.$e.data("group",h),f.$s=f.$e.find("div.swiper-container").first(),f.s=new Swiper(f.$s[0],{centeredSlides:!0}),f.$e.on("click",function(e){e.preventDefault(),t(this).addClass("elab-imgreview-hide")})}this.on("click",function(e){e.preventDefault();var i=t(this).data("index"),o=t(this).data("group"),s=a[o].s,r=a[o].$s,l=a[o].$e;i=parseInt(i),r.css({"margin-left":"-"+Math.round(n/2)+"px","margin-top":"-"+Math.round(s.height/2)+"px"}),l.removeClass("elab-imgreview-hide"),s.slideTo(i)})}},t.fn.imgreview.noConflict=function(){return t.fn.imgreview=e,this},t(document).ready(function(){t('img[data-toggle="imgreview"]').imgreview()})}(Zepto),function(t){"use strict";function e(){var e=this.$e,i=this.options,o=e.data("imgs")||"",n=t("body");o=o.trim(),o=o.split(i.separator);for(var s=[],r="",a=0;a<o.length;a++)r=o[a].trim(),0!==r.length&&s.push(r);o=s;var l=[],h=n.width();l.push('<div class="elab-imgmore elab-imgmore-hide">'),l.push('<div class="swiper-container">'),l.push('<div class="swiper-wrapper">');for(var a=0;a<o.length;a++)l.push(['<div class="swiper-slide'," elab-imgmore-item-rear-",o.length-1-a," elab-imgmore-item-front-",a,'" style="width:',h,'px;">','<div><img style="width:',h-20,'px;" src="',o[a],'"></img></div>',"</div>"].join(""));l.push("</div>"),l.push('<div class="tx-c mt-10 elab-imgmore-close-btn"><div class="elab-imgmore-close-btn-txt">x</div></div>'),l.push("</div>"),l.push("</div>");var u=t(l.join(""));n.append(u);var c=u.find("div.swiper-container").first(),d=new Swiper(c[0],{centeredSlides:!0});e.on("click",function(t){t.preventDefault(),c.css({"margin-left":"-"+Math.round(h/2)+"px","margin-top":"-"+Math.round(d.height/2)+"px"}),u.removeClass("elab-imgmore-hide")}),u.on("click",function(t){t.preventDefault(),u.addClass("elab-imgmore-hide"),d.slideTo(0)})}var i=".elab.zepto.imgmore",o=function(e,i){this.$e=t(e),this.options=t.extend(!0,{},o.defaults,i)};o.defaults={separator:","};var n=t.fn.imgmore;t.fn.imgmore=function(n){var s=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=t(this),a=r.data(i),l="object"==typeof n&&n;if(a||"destroy"!==n)return a?"string"==typeof n?a[n].apply(a,s):void 0:(r.data(i,a=new o(this,l)),e.call(a))})},t.fn.imgmore.Constructor=o,t.fn.imgmore.noConflict=function(){return t.fn.imgmore=n,this},t(document).ready(function(){t('[data-toggle="imgmore"]').imgmore()})}(Zepto),function(t,e){"use strict";function i(t){t.stopPropagation(),t.preventDefault()}function o(o){for(var s,r,a=this,l=this.$e,h=this.options.template,u=this.$self=t(h),c=l.width(),d=this.options.forever||!1,p=0;p<o.length;p++)s=t(o[p]),r=s.html(),r=this.convert(r),s.html(r);u.css("width",c),a.isEmojiVisible=!1,a.forever=d,a.isVisible=!1,l.append(u);var m=this.$sendBtn=u.find("button.button-send").first(),f=this.$textarea=u.find("textarea").first(),g=this.$emoji=u.find("div.item-emoji").first(),v=this.$keybordBtn=u.find("span.emoji-icon>i.icon-keyboard").first(),y=this.$emojiBtn=u.find("span.emoji-icon>i.icon-express").first(),b=this.options.emojis||[],w=this.options.emojiPageSize||23,x={},j=[];j.push('<div class="swiper-container">'),j.push('<div class="swiper-wrapper">');for(var p=0;p<b.length;){j.push('<div class="swiper-slide">'),j.push("<ul>");for(var z=0;z<w&&p<b.length;z++,p++)x=b[p],j.push(['<li data-name="',x.name,'" class="',x.clazz,'">','<img src="',x.url,'"></img>',"</li>"].join(""));j.push('<li class="commentinput-emoji-delete icon-close"></li>'),j.push("</ul>"),j.push("</div>")}j.push("</div>"),j.push('<div class="swiper-pagination"></div>'),j.push("</div>"),g.append(j.join(""));try{new Swiper(g.children("div.swiper-container").first()[0],{pagination:".swiper-pagination"})}catch(S){}return g.find("ul>li").on("click",function(){var e=t(this);if(!e.is(".commentinput-emoji-delete")){var i=e.data("name"),o=a.$textarea.val();a.$textarea.val(o+"["+i+"]"),a.$sendBtn.addClass("button-send-active")}}),g.find("ul>li.commentinput-emoji-delete").on("click",function(){a.backspace()}),m.on("click",function(i){if(t(this).is(".button-send-active")){e.mask.show();var o=a.options.ajax,n=a.$textarea.val(),s=t.extend(!0,{content:n},o.params);if("POST"!==o.method.toUpperCase())throw new Error("unsoppourted http method");t.post(o.url,JSON.stringify(s),function(i){e.mask.hide(),a.forever||a.hide(),a.$textarea.val(""),a.$textarea.removeAttr("style"),t(document).trigger("commentinput-send-success",[s,i])})}}),y.on("click",function(){a.$emoji.show(),a.isEmojiVisible=!0,t(this).hide(),a.$textarea.blur(),a.$keybordBtn.show()}),v.on("click",function(){a.$emoji.hide(),a.isEmojiVisible=!1,t(this).hide(),a.$emojiBtn.show()}),f.on("keyup",function(){var e=t(this),i=e.val();a.$sendBtn.toggleClass("button-send-active",i.length>0),this.style.height="5px",this.style.height=this.scrollHeight+"px"}),f.on("focus",function(){a.isEmojiVisible&&(a.$emoji.hide(),a.$keybordBtn.hide(),a.$emojiBtn.show())}),d?(a.show(),m.html(this.options.sendBtnTxt),f.attr("placeholder",this.options.placeholder),void f.attr("maxlength",this.options.maxLength)):(t(document).on("click",':not([data-toggle="commentinput"])',function(e){var o=t(e.target),s=o.data("id-"+n)||!1;return s&&s==a.elementId&&a.isVisible?(i(e),!0):(!o.is('[data-toggle="commentinput"]')&&!o.is("div.elab-commentinput")&&o.parents("div.elab-commentinput").length<1?a.isVisible&&a.hide():i(e),!0)}),void t(document).on("show"+n,function(e,o){var s=a.options.onBeforeShow();if(s){var r=t(o),l=r.data("btntxt")||"send",h=r.data("placeholder")||"...",u=r.data("url")||"unknownurl",c=r.data("method")||"POST",d=r.data("params")||"",p=r.data("maxlength")||144;a.elementId=r.data("id-"+n)||!1,a.$sendBtn.html(l),a.$textarea.attr("placeholder",h),a.$textarea.attr("maxlength",p),a.$textarea.val(""),d=d.trim();for(var m={},f=d.split(a.options.separators.pa||";"),g=0;g<f.length;g++){var v=f[g].trim();if(!(v.length<1)){var y=v.split(a.options.separators.kv||"=");if(2==y.length){var b=y[0].trim(),w=y[1].trim();b.length>0&&Object.defineProperty(m,b,{value:w,enumerable:!0})}}}t.extend(!0,a.options.ajax,{url:u,method:c}),a.options.ajax.params=m,a.show(),i(e)}}))}var n="-elab-zepto-commentinput",s=function(e){this.options=t.extend(!0,{},s.defaults,t.fn.commentinput.defaults,e),this.el=this.options.el,this.$e=t(this.getEl())};s.defaults={el:"body",forever:!1,placeholder:"评论...",sendBtnTxt:"发送",emojiPageSize:23,maxLength:144,separators:{kv:"=",pa:";"},ajax:{method:"POST",params:{},url:""},onBeforeShow:function(){return!0},template:['<div class="footer-fixbox import-pop elab-commentinput elab-commentinput-hide">','<div class="area-switch">','<div class="item item-conment">','<span class="emoji-icon emoji-icon-right">','<i class="icon-keyboard f28"  style="display:none;"></i>','<i class="icon-express f28"></i>','<button class="button button-send ml-20">发送</button>',"</span>",'<textarea class="textarea-conment" rows="1"  placeholder="评论..."></textarea>',"</div>","</div>",'<div class="item-emoji clearfix">',"</div>","</div>"].join("")},s.prototype.getEl=function(){return this.el},s.prototype.destory=function(){this.$self.remove()},s.prototype.convert=function(t){if("[object String]"!==Object.prototype.toString.call(t))return t;var e,i,o,n,s=this.options.emojis||[];if(0!=t.lenghth){for(var r=0;r<s.length;r++)i=s[r],e=i.name||"",0!=e.length&&(o=t.indexOf("["+e+"]"),o!=-1&&(n=new RegExp("\\["+e+"\\]","g"),t=t.replace(n,['<i class="emoji-item">','<img src="',i.url,'"></img>',"</i>"].join(""))));return t}},e.util.commentconvert=function(e){if("[object String]"!==Object.prototype.toString.call(e))return e;var i,o,n,s,r=t.fn.commentinput.defaults.emojis||[];if(0!=e.lenghth){for(var a=0;a<r.length;a++)o=r[a],i=o.name||"",0!=i.length&&(n=e.indexOf("["+i+"]"),n!=-1&&(s=new RegExp("\\["+i+"\\]","g"),e=e.replace(s,['<i class="emoji-item">','<img src="',o.url,'"></img>',"</i>"].join(""))));return e}},s.prototype.backspace=function(){var t,e,i,o=this.$textarea.val()||"",n=this.options.emojis||[],s=!1;if(0!=o.lenghth){for(var r=0;r<n.length;r++)if(e=n[r],t=e.name||"",0!=t.length&&(t="["+t+"]",i=o.lastIndexOf(t),i!=-1&&i==o.length-t.length)){s=!0;break}i=s?i:o.length-1,o=o.substr(0,i),this.$textarea.val(o),this.$sendBtn.toggleClass("button-send-active",o.length>0)}},s.prototype.hide=function(){return this.isVisible=!1,this.$self.hide()},s.prototype.show=function(){return this.$self.removeClass("elab-commentinput-hide"),this.$emoji.hide(),this.$keybordBtn.hide(),this.$emojiBtn.show(),this.isVisible=!0,this.$self.show()};var r=t.fn.commentinput;t.fn.commentinput=function(e){if(0!=this.length){var i;this.each(function(){i=t(this),i.data("id-"+n,(new Date).getTime())});var r=(Array.prototype.slice.call(arguments,1),!1),a="object"==typeof e&&e,l=t("body");return r=l.data(n),r?(l.find("div.elab-commentinput").remove(),r=new s(a),o.call(r,this)):(l.data(n,!0),r=new s(a),o.call(r,this))}},t.fn.commentinput.Constructor=s,t.fn.commentinput.defaults={emojis:[{name:"微笑",clazz:"emoji-01",url:"./img/emoji/24x24/01.gif"},{name:"撇嘴",clazz:"emoji-02",url:"./img/emoji/24x24/02.gif"},{name:"色",clazz:"emoji-03",url:"./img/emoji/24x24/03.gif"},{name:"发呆",clazz:"emoji-04",url:"./img/emoji/24x24/04.gif"},{name:"得意",clazz:"emoji-05",url:"./img/emoji/24x24/05.gif"},{name:"流泪",clazz:"emoji-06",url:"./img/emoji/24x24/06.gif"},{name:"害羞",clazz:"emoji-07",url:"./img/emoji/24x24/07.gif"},{name:"闭嘴",clazz:"emoji-08",url:"./img/emoji/24x24/08.gif"},{name:"睡",clazz:"emoji-09",url:"./img/emoji/24x24/09.gif"},{name:"大哭",clazz:"emoji-10",url:"./img/emoji/24x24/10.gif"},{name:"尴尬",clazz:"emoji-11",url:"./img/emoji/24x24/11.gif"},{name:"发怒",clazz:"emoji-12",url:"./img/emoji/24x24/12.gif"},{name:"调皮",clazz:"emoji-13",url:"./img/emoji/24x24/13.gif"},{name:"龇牙",clazz:"emoji-14",url:"./img/emoji/24x24/14.gif"},{name:"惊讶",clazz:"emoji-15",url:"./img/emoji/24x24/15.gif"},{name:"难过",clazz:"emoji-16",url:"./img/emoji/24x24/16.gif"},{name:"酷",clazz:"emoji-17",url:"./img/emoji/24x24/17.gif"},{name:"冷汗",clazz:"emoji-18",url:"./img/emoji/24x24/18.gif"},{name:"抓狂",clazz:"emoji-19",url:"./img/emoji/24x24/19.gif"},{name:"吐",clazz:"emoji-20",url:"./img/emoji/24x24/20.gif"},{name:"偷笑",clazz:"emoji-21",url:"./img/emoji/24x24/21.gif"},{name:"可爱",clazz:"emoji-22",url:"./img/emoji/24x24/22.gif"},{name:"白眼",clazz:"emoji-23",url:"./img/emoji/24x24/23.gif"},{name:"傲慢",clazz:"emoji-24",url:"./img/emoji/24x24/24.gif"},{name:"饥饿",clazz:"emoji-25",url:"./img/emoji/24x24/25.gif"},{name:"困",clazz:"emoji-26",url:"./img/emoji/24x24/26.gif"},{name:"酷",clazz:"emoji-27",url:"./img/emoji/24x24/27.gif"},{name:"惊恐",clazz:"emoji-28",url:"./img/emoji/24x24/28.gif"},{name:"流汗",clazz:"emoji-29",url:"./img/emoji/24x24/29.gif"},{name:"憨笑",clazz:"emoji-30",url:"./img/emoji/24x24/30.gif"},{name:"大兵",clazz:"emoji-31",url:"./img/emoji/24x24/31.gif"},{name:"奋斗",clazz:"emoji-32",url:"./img/emoji/24x24/32.gif"},{name:"咒骂",clazz:"emoji-33",url:"./img/emoji/24x24/33.gif"},{name:"疑问",clazz:"emoji-34",url:"./img/emoji/24x24/34.gif"},{name:"嘘",clazz:"emoji-35",url:"./img/emoji/24x24/35.gif"},{name:"晕",clazz:"emoji-36",url:"./img/emoji/24x24/36.gif"},{name:"折磨",clazz:"emoji-37",url:"./img/emoji/24x24/37.gif"},{name:"衰",clazz:"emoji-38",url:"./img/emoji/24x24/38.gif"},{name:"骷髅",clazz:"emoji-39",url:"./img/emoji/24x24/39.gif"},{name:"敲打",clazz:"emoji-40",url:"./img/emoji/24x24/40.gif"},{name:"再见",clazz:"emoji-41",url:"./img/emoji/24x24/41.gif"},{name:"擦汗",clazz:"emoji-42",url:"./img/emoji/24x24/42.gif"},{name:"抠鼻",clazz:"emoji-43",url:"./img/emoji/24x24/43.gif"},{name:"鼓掌",clazz:"emoji-44",url:"./img/emoji/24x24/44.gif"},{name:"糗大了",clazz:"emoji-45",url:"./img/emoji/24x24/45.gif"},{name:"左哼哼",clazz:"emoji-46",url:"./img/emoji/24x24/46.gif"},{name:"右哼哼",clazz:"emoji-47",url:"./img/emoji/24x24/47.gif"},{name:"哈欠",clazz:"emoji-48",url:"./img/emoji/24x24/48.gif"},{name:"鄙视",clazz:"emoji-49",url:"./img/emoji/24x24/49.gif"},{name:"委屈",clazz:"emoji-50",url:"./img/emoji/24x24/50.gif"},{name:"快哭了",clazz:"emoji-51",url:"./img/emoji/24x24/51.gif"},{name:"阴险",clazz:"emoji-52",url:"./img/emoji/24x24/52.gif"},{name:"亲亲",clazz:"emoji-53",url:"./img/emoji/24x24/53.gif"},{name:"吓",clazz:"emoji-54",url:"./img/emoji/24x24/54.gif"},{name:"可怜",clazz:"emoji-55",url:"./img/emoji/24x24/55.gif"},{name:"菜刀",clazz:"emoji-56",url:"./img/emoji/24x24/56.gif"},{name:"西瓜",clazz:"emoji-57",url:"./img/emoji/24x24/57.gif"},{name:"啤酒",clazz:"emoji-58",url:"./img/emoji/24x24/58.gif"},{name:"篮球",clazz:"emoji-59",url:"./img/emoji/24x24/59.gif"},{name:"乒乓",clazz:"emoji-60",url:"./img/emoji/24x24/60.gif"},{name:"咖啡",clazz:"emoji-61",url:"./img/emoji/24x24/61.gif"},{name:"饭",clazz:"emoji-62",url:"./img/emoji/24x24/62.gif"},{name:"猪头",clazz:"emoji-63",url:"./img/emoji/24x24/63.gif"},{name:"玫瑰",clazz:"emoji-64",url:"./img/emoji/24x24/64.gif"},{name:"凋谢",clazz:"emoji-65",url:"./img/emoji/24x24/65.gif"},{name:"示爱",clazz:"emoji-66",url:"./img/emoji/24x24/66.gif"},{name:"爱心",clazz:"emoji-67",url:"./img/emoji/24x24/67.gif"},{name:"心碎",clazz:"emoji-68",url:"./img/emoji/24x24/68.gif"},{name:"蛋糕",clazz:"emoji-69",url:"./img/emoji/24x24/69.gif"},{name:"闪电",clazz:"emoji-70",url:"./img/emoji/24x24/70.gif"},{name:"炸弹",clazz:"emoji-71",url:"./img/emoji/24x24/71.gif"},{name:"刀",clazz:"emoji-72",url:"./img/emoji/24x24/72.gif"},{name:"足球",clazz:"emoji-73",url:"./img/emoji/24x24/73.gif"},{name:"瓢虫",clazz:"emoji-74",url:"./img/emoji/24x24/74.gif"},{name:"便便",clazz:"emoji-75",url:"./img/emoji/24x24/75.gif"},{name:"月亮",clazz:"emoji-76",url:"./img/emoji/24x24/76.gif"},{name:"太阳",clazz:"emoji-77",url:"./img/emoji/24x24/77.gif"},{name:"礼物",clazz:"emoji-78",url:"./img/emoji/24x24/78.gif"},{name:"拥抱",clazz:"emoji-79",url:"./img/emoji/24x24/79.gif"},{name:"强",clazz:"emoji-80",url:"./img/emoji/24x24/80.gif"},{name:"弱",clazz:"emoji-81",url:"./img/emoji/24x24/81.gif"},{name:"握手",clazz:"emoji-82",url:"./img/emoji/24x24/82.gif"},{name:"胜利",clazz:"emoji-83",url:"./img/emoji/24x24/83.gif"},{name:"抱拳",clazz:"emoji-84",url:"./img/emoji/24x24/84.gif"},{name:"勾引",clazz:"emoji-85",url:"./img/emoji/24x24/85.gif"},{name:"拳头",clazz:"emoji-86",url:"./img/emoji/24x24/86.gif"},{name:"差劲",clazz:"emoji-87",url:"./img/emoji/24x24/87.gif"},{name:"爱你",clazz:"emoji-88",url:"./img/emoji/24x24/88.gif"},{name:"不是",clazz:"emoji-89",url:"./img/emoji/24x24/89.gif"},{name:"好的",clazz:"emoji-90",url:"./img/emoji/24x24/90.gif"},{name:"爱情",clazz:"emoji-91",url:"./img/emoji/24x24/91.gif"},{name:"飞吻",clazz:"emoji-92",url:"./img/emoji/24x24/92.gif"},{name:"跳跳",clazz:"emoji-93",url:"./img/emoji/24x24/93.gif"},{name:"发抖",clazz:"emoji-94",url:"./img/emoji/24x24/94.gif"},{name:"怄火",clazz:"emoji-95",url:"./img/emoji/24x24/95.gif"},{name:"转圈",clazz:"emoji-96",url:"./img/emoji/24x24/96.gif"},{name:"磕头",clazz:"emoji-97",url:"./img/emoji/24x24/97.gif"},{name:"回头",clazz:"emoji-98",url:"./img/emoji/24x24/98.gif"},{name:"跳绳",clazz:"emoji-99",url:"./img/emoji/24x24/99.gif"},{name:"挥手",clazz:"emoji-100",url:"./img/emoji/24x24/100.gif"},{name:"激动",clazz:"emoji-101",url:"./img/emoji/24x24/101.gif"},{name:"街舞",clazz:"emoji-102",url:"./img/emoji/24x24/102.gif"},{name:"献吻",clazz:"emoji-103",url:"./img/emoji/24x24/103.gif"},{name:"左太极",clazz:"emoji-104",url:"./img/emoji/24x24/104.gif"},{name:"右太极",clazz:"emoji-105",url:"./img/emoji/24x24/105.gif"}]},t.fn.commentinput.noConflict=function(){return t.fn.commentinput=r,this},t(document).ready(function(){var e='[data-toggle="commentinput"]';t(e).commentinput(),t(document).on("click",e,function(e){i(e),t(this).data("readonly")===!0||t(document).trigger("show"+n,[this])})})}(window.$||Zepto,window.elab||elab),function(t,e,i){"use strict";function o(){}function n(t){return"[object String]"===Object.prototype.toString.call(t)}function s(t){return t.touches.length>1||"touchend"===t.type.toLowerCase()&&t.touches.length>0}function r(t){t.stopPropagation(),t.preventDefault()}function a(){var e,i,o=this.options,n=this.$list=t(o.template.list);this.$hidden=this.$list.find("input[type=hidden]");if(this.$e.append(n),o.disableDelete&&n.addClass("elab-upload-delete-disabled"),this.initImages.length>0)for(var s=0;s<this.initImages.length;s++)e=this.initImages[s],i=this.initImageUrls[s],e.length>0&&i.length>0&&this.addItem(e,i);this.addEmptyItem()}var l=".elab.zepto.imageupload",h=function(e,i){var o=this.options=t.extend(!0,{},h.defaults,i),s=this.$e=t(e),r=s.data("url"),a=s.data("params")||"",l=s.data("imgsize")||"75",u=s.data("maxnum")||"1",c=s.data("defimg")||!1,d=s.data("maxsize")||o.maxSize,p=s.data("disabledelete")||!1,m=s.data("imgs")||o.imgs||"",f=s.data("imgurls")||o.imgurls||"";try{l=parseInt(l)}catch(g){l=h.defaults.imageSize}try{u=parseInt(u)}catch(g){u=h.defaults.maxNum}try{d=parseInt(d)}catch(g){d=h.defaults.maxSize}p&&(this.options.disableDelete=!0),a=a.trim();for(var v={},y=a.split(o.separators.pa||";"),b=0;b<y.length;b++){var w=y[b].trim();if(!(w.length<1)){var x=w.split(o.separators.kv||"=");if(2==x.length){var j=x[0].trim(),z=x[1].trim();j.length>0&&Object.defineProperty(v,j,{value:z,enumerable:!0})}}}m=n(m)&&m.length>0?m.split(","):[],f=n(f)&&f.length>0?f.split(","):[];var S=Math.min(m.length,f.length);m=m.splice(0,S),f=f.splice(0,S),this.params=v,this.curNum=0,this.maxNum=u,this.imgsize=l,this.maxsize=d,this.images=[],this.imageurls=[],this.initImages=m,this.initImageUrls=f,this.url=r||o.uploadUrl,this.defimg=c};h.defaults={maxNum:1,imageSize:75,maxSize:4,uploadUrl:"UnknownUrl",disableDelete:!1,imgs:"",imgurls:"",params:{},separators:{kv:"=",pa:";"},onUploadSuccess:o,imageTransform:{type:"image/jpeg",quality:.86},template:{list:['<div class="elab-upload elab-upload-image">','<input type="hidden" name="file"></input>',"</div>"].join(""),item:['<div class="elab-upload-item">','<img style="display:none;"></img>','<i class="elab-upload-item-delete icon-fail"></i>',"<span>",'<div class="elab-upload-drag">','<span role="button" tabindex="0">','<input type="file" style="display:none;" accept="image/*">','<div class="elab-upload-drag-container">','<i class="icon-plus"></i>',"</div>","</span>","</div>","</span>","</div>"].join("")}},h.prototype.addImageUrl=function(t){this.imageurls.push(t)},h.prototype.addImg=function(t){this.images.push(t),this.$hidden.val(this.images.join(","))},h.prototype.addItem=function(e,i){if(!(this.curNum>=this.maxNum)){var o=t(this.options.template.item).css({width:this.imgsize,height:this.imgsize});o.data("idx",this.curNum).addClass("uploaded"),this.$list.append(o),o.children("img").first().attr("src",i).show(),o.children("span").first().hide();var n=o[0];n.onmousedown=this.onMouseDown.bind(this,o),n.ontouchstart=this.onTouchStart.bind(this,o),this.addImg(e),this.addImageUrl(i),this.curNum++}},h.prototype.addEmptyItem=function(){if(!(this.curNum>=this.maxNum)){var o=this,n=t(this.options.template.item).css({width:this.imgsize,height:this.imgsize});n.data("idx",this.curNum),this.$list.append(n),this.defimg&&n.children("img").first().attr("src",this.defimg).show(),this.curNum++;var s=n[0];s.onmousedown=this.onMouseDown.bind(this,n),s.ontouchstart=this.onTouchStart.bind(this,n);var r=n.find("input[type=file]").first()[0];i.event.on(r,"change",function(t){var n=i.getFiles(t);i.filterFiles(n,function(t,n){return/^image/.test(t.type)?!t.size||(t.size<o.maxsize*i.MB||(e.message.error("图片文件不能大于2MB"),!1)):(e.message.error("请选择图片文件"),!1)},function(t,n){if(!_.isEmpty(t)){t[0].name;i.upload({url:o.url,data:o.params,files:{images:t},complete:function(t,i){if(t)e.message.error("图片上传失败");else{var n={};try{n=JSON.parse(i.responseText||i.response||i.statusText||i.responseXML)}catch(s){}if(n.success){var r=n.imgs,a=r[0].imageurl,l=r[0].imagename;o.$currentItem.children("img").first().attr("src",a).show(),o.$currentItem.children("span").first().hide(),o.$currentItem.addClass("uploaded"),o.addEmptyItem(),o.addImageUrl(a),o.addImg(l),o.options.onUploadSuccess(n)}else e.message.error(n.message||"图片上传失败")}}})}})})}},h.prototype.browerFile=function(){var t=this.$currentItem;if(t.is(".uploaded")){if(!this.options.disableDelete){var e=t.data("idx");this.removeItem(e)}}else t.find("input[type=file]").first()[0].click()},h.prototype.onTouchStart=function(t,e){s(e)||(this.$currentItem=t,this.browerFile(),r(e))},h.prototype.onMouseDown=function(t,e){this.$currentItem=t,this.browerFile(),r(e)},h.prototype.removeItem=function(e){if(!(e<0||e>this.curNum-1)){var i,o,n=this.$list.children("div.elab-upload-item");n.each(function(n,s){i=t(s),o=i.data("idx"),o>e&&i.data("idx",o-1)}),n.eq(e).remove();var s,r,a=[],l=[];for(s=0;s<e;s++)a[s]=this.images[s];for(s=e+1,r=this.images.length;s<r;s++)a[s-1]=this.images[s];for(this.images=a,s=0;s<e;s++)l[s]=this.images[s];for(s=e+1,r=this.imageurls.length;s<r;s++)l[s-1]=this.imageurls[s];this.imageurls=l,this.$hidden.val(this.images.join(",")),this.curNum--,e===this.curNum&&this.addEmptyItem();
}};var u=t.fn.imageupload;t.fn.imageupload=function(e){if(0!=this.length){if(!i)return void console.log("FileAPI required");var o=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this),n=i.data(l),s="object"==typeof e&&e;if(n||"destroy"!==e)return n?"string"==typeof e?n[e].apply(n,o):void 0:(i.data(l,n=new h(this,s)),a.call(n))})}},t.fn.imageupload.Constructor=h,t.fn.imageupload.noConflict=function(){return t.fn.imageupload=u,this},t(document).ready(function(){t('[data-toggle="imageupload"]').imageupload()})}(window.$||Zepto,window.elab||elab,window.FileAPI||FileAPI),function(t,e,i){"use strict";function o(){}function n(t){t.stopPropagation(),t.preventDefault()}function s(t){t.preventDefault()}function r(t){return t%4==0&&t%100!=0||t%400==0}function a(){var e=this.options,i=this.$parent;i.append('<div class="'+e.prefixCls+'" style="display:none"></div>'),this.$body=i.find("div."+e.prefixCls).first(),t(document).on(e.event,'[data-toggle="datepicker"]',this.onClick.bind(this))}var l="-elab-zepto-datepicker",h=new Date,u=h.getFullYear(),c=(i.parse(navigator.userAgent),function(e){this.options=t.extend(!0,{},c.defaults,t.fn.datepicker.defaults,e),this.el=this.options.el,this.$parent=t(this.getEl())});c.defaults={el:"body",prefixCls:"elab-datepicker",className:"",onBeforeChange:o,onChange:o,onAfterChange:o,scrollConfig:{snap:"li",checkDOMChanges:!0,vScrollbar:!1,mouseWheel:!0,scrollX:!1,scrollY:!0}},c.prototype.getEl=function(){return this.el},c.prototype.onClick=function(e){n(e),this.$e=t(e.target),this.initVal=this.$e.val()||"",this.init()},c.prototype.init=function(){this.yearScroll=null,this.monthScroll=null,this.dayScroll=null,this.hourScroll=null,this.minuteScroll=null,this.initY=null,this.initM=null,this.initD=null,this.initH=null,this.initI=null,this.initS=null,h=new Date;var t=this.$e.data("theme"),e=this.options;t&&(e.theme=t),t=e.theme;var i=this.initVal;if(i=i.trim(),!e.curdate&&i.length>0){var o=null,n=null;"date"==t?(o=i.split(" ")[0],this.initY=parseInt(o.split("-")[0]-parseInt(e.beginyear))+1,this.initM=parseInt(o.split("-")[1]),this.initD=parseInt(o.split("-")[2])):"datetime"==t?(o=i.split(" ")[0],this.initY=parseInt(o.split("-")[0]-parseInt(e.beginyear))+1,this.initM=parseInt(o.split("-")[1]),this.initD=parseInt(o.split("-")[2]),n=i.split(" ")[1],this.initH=parseInt(n.split(":")[0])+1,this.initI=parseInt(n.split(":")[1])+1):"time"==t?(n=i,this.initH=parseInt(n.split(":")[0])+1,this.initI=parseInt(n.split(":")[1])+1):"month"==t&&(o=i,this.initY=parseInt(o.split("-")[0]-parseInt(e.beginyear))+1,this.initM=parseInt(o.split("-")[1]))}else this.initY=parseInt(h.getFullYear())-parseInt(e.beginyear)+1,this.initM=parseInt(h.getMonth())+1,this.initD=parseInt(h.getDate()),this.initH=parseInt(h.getHours())+1,this.initI=parseInt(h.getMinutes())+1,this.initS=parseInt(h.getSeconds());this.show(),this.destroyScroll(),this.renderDom()},c.prototype.renderDom=function(){var t=['<div class="d-date-box">','<div class="d-date-title">请选择日期</div>','<p class="d-date-info">','<span class="d-day-info"></span>','<span class="d-return-info"></span>',"</p>","</div>"].join(""),e=['<div class="d-date-btns">','<button class="d-btn ok" id="ok',l,'">确定</button>','<button class="d-btn cancle" id="cancle',l,'">取消</button>',"</div>"].join(""),i=['<div class="d-date-wrap">','<div class="d-date-mark"></div>','<div id="year',l,'" class="d-year-wrap d-date-cell" >',"<ul></ul>","</div>",'<div id="month',l,'" class="d-month-wrap d-date-cell">',"<ul></ul>","</div>",'<div id="day',l,'" class="d-day-wrap d-date-cell">',"<ul></ul>","</div>","</div>"].join(""),o=['<div class="d-date-wrap d-time-wrap">','<div class="d-date-mark"></div>','<div id="hour',l,'" class="d-hour-wrap d-date-cell" >',"<ul></ul>","</div>",'<div id="minute',l,'" class="d-minute-wrap d-date-cell">',"<ul></ul>","</div>","</div>"].join(""),n=['<div class="d-date-wrap">','<div class="d-date-mark"></div>','<div id="year',l,'" class="d-year-wrap d-date-cell" style="width:50%">',"<ul></ul>","</div>",'<div id="month',l,'" class="d-month-wrap d-date-cell" style="width:50%">',"<ul></ul>","</div>","</div>"].join("");this.$body.html(t),this.$dayInfo=this.$body.find("span.d-day-info").first(),this.$returnInfo=this.$body.find("span.d-return-info").first();var r=this.options,a=this.$datebox=this.$body.children("div.d-date-box").first();switch(document.addEventListener("touchmove",s,!1),r.theme){case"date":a.append(i),this.createYear(),this.createMonth(),this.createDay(r.monthDay[this.initM-1]);break;case"datetime":a.append(i),a.append(o),this.createYear(),this.createMonth(),this.createDay(r.monthDay[this.initM-1]),this.createHour(),this.createMinute();break;case"time":a.append(o),this.createHour(),this.createMinute();break;case"month":a.append(n),this.createYear(),this.createMonth();break;default:a.append(i),this.createYear(),this.createMonth(),this.createDay(r.monthDay[this.initM-1])}a.append(e),this.$ok=a.find("button.ok").first(),this.$cancle=a.find("button.cancle").first(),this.$ok.on("click",this.onOkClick.bind(this)),this.$cancle.on("click",this.onCancleClick.bind(this)),this.showTxt()},c.prototype.createYear=function(){var i=this.options,o="#year"+l,n=this.$year=this.$body.find(o),s=i.endyear-i.beginyear,r=[];r.push("<li></li>");for(var a=0;a<=s;a++)r.push("<li data-num="+(i.beginyear+a)+">"+(i.beginyear+a)+"年</li>");r.push("<li></li>"),r=r.join(""),n.find("ul").html(r),this.year=this.initY+i.beginyear-1,this.yearScroll=new e(o,t.extend(!0,{},i.scrollConfig)),this.yearScroll.on("scrollEnd",this.onYearScrollEnd.bind(this)),this.yearScroll.scrollTo(0,-(this.initY-1)*i.liH)},c.prototype.createMonth=function(){var i=this.options,o="#month"+l,n=this.$month=this.$body.find(o),s=[];s.push("<li></li>");for(var r=1;r<13;r++)r<10?s.push('<li data-num="0'+r+'">0'+r+"月</li>"):s.push('<li data-num="'+r+'">'+r+"月</li>");s.push("<li></li>"),s=s.join(""),n.find("ul").html(s),this.month=this.initM<10?"0"+this.initM:this.initM,this.monthScroll=new e(o,t.extend(!0,{},i.scrollConfig)),this.monthScroll.on("scrollEnd",this.onMonthScrollEnd.bind(this)),this.monthScroll.scrollTo(0,-(this.initM-1)*i.liH)},c.prototype.createDay=function(i){var o=this.options,n="#day"+l,s=this.$day=this.$body.find(n),r=[];r.push("<li></li>");for(var a=1;a<=i;a++)a<10?r.push('<li data-num="0'+a+'">0'+a+"日</li>"):r.push('<li data-num="'+a+'">'+a+"日</li>");r.push("<li></li>"),r=r.join(""),s.find("ul").html(r),this.initD>o.monthDay[this.initM-1]&&(this.initD=1),this.day=this.initD<10?"0"+this.initD:this.initD,this.dayScroll=new e(n,t.extend(!0,{},o.scrollConfig)),this.dayScroll.on("scrollEnd",this.onDayScrollEnd.bind(this)),this.dayScroll.scrollTo(0,-(this.initD-1)*o.liH)},c.prototype.createHour=function(){var i=this.options,o="#hour"+l,n=this.$hour=this.$body.find(o),s=[];s.push("<li></li>");for(var r=i.beginhour;r<=i.endhour;r++)r<10?s.push('<li data-num="0'+r+'">0'+r+"时</li>"):s.push('<li data-num="'+r+'">'+r+"时</li>");s.push("<li></li>"),s=s.join(""),n.find("ul").html(s),this.hour=this.initH+i.beginhour-1,this.hour=this.hour<10?"0"+this.hour:this.hour,this.hourScroll=new e(o,t.extend(!0,{},i.scrollConfig)),this.hourScroll.on("scrollEnd",this.onHourScrollEnd.bind(this)),this.hourScroll.scrollTo(0,-(this.initH-1)*i.liH)},c.prototype.createMinute=function(){var i=this.options,o="#minute"+l,n=this.$minute=this.$body.find(o),s=[];s.push("<li></li>");for(var r=i.beginminute;r<=i.endminute;r++)r<10?s.push('<li data-num="0'+r+'">0'+r+"分</li>"):s.push('<li data-num="'+r+'">'+r+"分</li>");s.push("<li></li>"),s=s.join(""),n.find("ul").html(s),this.minute=this.initI+i.beginminute-1,this.minute=this.minute<10?"0"+this.minute:this.minute,this.minuteScroll=new e(o,t.extend(!0,{},i.scrollConfig)),this.minuteScroll.on("scrollEnd",this.onMinuteScrollEnd.bind(this)),this.minuteScroll.scrollTo(0,-(this.initI-1)*i.liH)},c.prototype.onYearScrollEnd=function(){var t=this.options,e=this.yearScroll.y,i=t.liH,o=Math.floor(-e/i);if(this.initY=o+1,!(this.initY<=0)){var n=this.$year.find("li").eq(this.initY).data("num");this.year=n,n=parseInt(n),r(n)?this.options.monthDay[1]=29:this.options.monthDay[1]=28,2==this.initM&&"month"!=t.theme&&this.createDay(t.monthDay[1]),this.showTxt()}},c.prototype.onMonthScrollEnd=function(){var t=this.options,e=this.monthScroll.y,i=t.liH,o=Math.floor(-e/i),n=0,s=this.month,r=0;s=parseInt(s)-1,r=t.monthDay[s],this.initM=o+1,this.initM<=0||(this.month=this.$month.find("li").eq(this.initM).data("num"),"month"!=t.theme&&(n=t.monthDay[o],n!=r&&this.createDay(n)),this.showTxt())},c.prototype.onDayScrollEnd=function(){this.initD=Math.floor(-this.dayScroll.y/this.options.liH)+1,this.initD<=0||(this.day=this.$day.find("li").eq(this.initD).data("num"),this.showTxt())},c.prototype.onHourScrollEnd=function(){this.initH=Math.floor(-this.hourScroll.y/this.options.liH)+1,this.initH<=0||(this.hour=this.$hour.find("li").eq(this.initH).data("num"),this.showTxt())},c.prototype.onMinuteScrollEnd=function(){this.initI=Math.floor(-this.minuteScroll.y/this.options.liH)+1,this.initI<=0||(this.minute=this.$minute.find("li").eq(this.initI).data("num"),this.showTxt())},c.prototype.showTxt=function(){var t=this.options,e=this.year,i=this.month,o=this.day,n=this.hour,s=this.minute,r=new Date(e+"-"+i+"-"+o);switch(t.theme){case"date":this.$dayInfo.html(t.days[r.getDay()]+"&nbsp;"),this.$returnInfo.html(e+"-"+i+"-"+o);break;case"datetime":this.$dayInfo.html(t.days[r.getDay()]+"&nbsp;"),this.$returnInfo.html(e+"-"+i+"-"+o+" "+n+":"+s);break;case"time":this.$returnInfo.html(n+":"+s);break;case"month":this.$returnInfo.html(e+"-"+i);break;default:this.$dayInfo.html(t.days[r.getDay()]+"&nbsp;"),this.$returnInfo.html(e+"-"+i+"-"+o)}},c.prototype.onChange=function(){},c.prototype.onOkClick=function(){var t=this.options,e=this.year,i=this.month,o=this.day,n=this.hour,s=this.minute,r=[];this.destroyScroll(),this.hide();var r=[];switch(t.theme){case"date":r=[e,"-",i,"-",o];break;case"datetime":r=[e,"-",i,"-",o," ",n,":",s];break;case"time":r=[n,":",s];break;case"month":r=[e,"-",i];break;default:r=[e,"-",i,"-",o]}this.$e.val(r.join("")),this.options.callBack({y:this.year,M:this.month,d:this.day,h:this.hour,m:this.minute})},c.prototype.onCancleClick=function(){this.destroyScroll(),this.hide()},c.prototype.destroyScroll=function(){document.removeEventListener("touchmove",s,!1),[this.yearScroll,this.monthScroll,this.dayScroll,this.hourScroll,this.minuteScroll].forEach(function(t){t&&(t.destroy(),t=null)})},c.prototype.show=function(){this.$body.css({display:"block"})},c.prototype.hide=function(){this.$body.hide()};var d=t.fn.datepicker;t.fn.datepicker=function(e){if(0!=this.length){var i=Array.prototype.slice.call(arguments,1),o=!1,n="object"==typeof e&&e,s=n?n.el||c.defaults.el:"body",r=t(s);return o=r.data(l),o?"string"==typeof e?o[e].apply(o,i):void 0:(r.data(l,!0),o=new c(n),a.call(o))}},t.fn.datepicker.Constructor=c,t.fn.datepicker.defaults={beginyear:u-100,endyear:u+100,monthDay:[31,28,31,30,31,30,31,31,30,31,30,31],days:["周日","周一","周二","周三","周四","周五","周六"],beginhour:0,endhour:23,beginminute:0,endminute:59,curdate:!1,liH:40,theme:"date",event:"click",show:!0,callBack:o},t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t(document).ready(function(){t('[data-toggle="datepicker"]').datepicker()})}(Zepto,IScroll||window.IScroll,detect||window.detect),function(t){"use strict";function e(){}function i(t){return t.touches.length>1||"touchend"===t.type.toLowerCase()&&t.touches.length>0}function o(t){return t.touches[0].pageX}function n(t){return t.pageX}function s(t){t.stopPropagation(),t.preventDefault()}function r(){var i=this.options,o=[],n=(i.prefixCls,i.disabled),s=(i.range,i.step,i.marks);i.tipFormatter;o.push('<div class="elab-stepslector">'),o.push('<ul class="elab-stepslector-steps">');for(var r,a,l,h,u=Object.keys(s),c=0;c<u.length;c++)r=u[c],a=s[r],"0"!==r&&(l=parseInt(r),h=l<this.initialWidth?"step-undone":l>this.initialWidth?"step-done":"step-active",o.push(['<li class="step ',h,'" style="width:',a.width,'%;">',"<p>",a.txt,"</p>",'<div class="step-dot"></div>',"</li>"].join("")));o.push("</ul>"),o.push('<div class="elab-stepslector-progress">'),o.push('<p class="elab-stepslector-progress-bar">'),o.push('<span class="elab-stepslector-progress-highlight" style="width: '+this.initialWidth+'%;"></span>'),o.push("</p>"),o.push("</div>"),o.push("</div>"),this.$e=t(o.join("")),this.$parent.append(this.$e),this.$steps=this.$e.find("ul.elab-stepslector-steps>li"),this.$process=this.$e.find("span.elab-stepslector-progress-highlight").first();var d=this.edom=this.$e[0];d.ontouchstart=n?e:this.onTouchStart.bind(this),d.onmousedown=n?e:this.onMouseDown.bind(this)}var a="-elab-zepto-stepselector",l=function(e,i){this.$parent=t(e),this.options=t.extend(!0,{},l.defaults,i);var o=this.options,n=o.marks,s=o.steps,r=o.range,a=o.min,h=o.max,u=r?[a,a]:h,c=o.defaultValue||u,d=r?[0,100]:100,p=o.value||c,m=r?[,]:0;s=s.split(o.separator);var f=Math.floor(100/(s.length+1)),g=100%(s.length+1),v=0,y=0;n[0]={val:s[0],txt:"",width:0,idx:0,visible:!1};for(var b=(c.toString(),0);b<s.length;b++)v=b+1>g?f:f+1,y+=v,r?(d[0]=s[b]==c[0].toString()?y:d[0],d[1]=s[b]==c[1].toString()?y:d[1],p[0]=s[b]==c[0].toString()?y:p[0],p[1]=s[b]==c[1].toString()?y:p[1]):(d=s[b]==c.toString()?y:d,p=s[b]==c.toString()?y:p),n[y.toString()]={val:s[b],txt:o.tipFormatter(s[b]),width:v,idx:b,visible:!0};n[100]={val:null,txt:o.nilText,width:f,idx:s.length,visible:!0},this.options.marks=n,this.initialWidth=d,this.returnValue=m;var w,x;r?(x=this.trimAlignValue(p[0]),w=this.trimAlignValue(p[1])):w=this.trimAlignValue(p);var j;o.range&&w===x?(x===h&&(j="lowerBound"),w===a&&(j="upperBound")):j="upperBound",this.oldValue=p,this.state={handle:null,recent:j,upperBound:w,lowerBound:x||a}};l.defaults={prefixCls:"elab-stepslector",className:"",nilText:"",defaultValue:0,tipTransitionName:"",min:0,max:100,step:1,steps:"0,50,100",separator:",",marks:{},onBeforeChange:e,onChange:e,onAfterChange:e,tipFormatter:function(t){return t},included:!0,disabled:!1,dots:!1,range:!1,allowCross:!0},l.prototype.isChanged=function(){var t=this.getValue(),e=this.oldValue;return this.options.range?t[0]!=e[0]||t[1]!=e[1]:t!=e},l.prototype.setState=function(t){Object.assign(this.state,t||{})},l.prototype.getClosestPoint=function(t){var e=this.options.marks,i=Object.keys(e).map(parseFloat),o=i.map(function(e){return Math.abs(t-e)}),n=o.indexOf(Math.min.apply(Math,o));return 0==n&&(n=1),i[n]},l.prototype.onChange=function(e){var i=this.options,o=!("value"in i);o?this.setState(e):e.handle&&this.setState({handle:e.handle});var n=this.getValue();if(this.isChanged()){var s=this.getClosestPoint(n);this.state.upperBound=s,this.$process.css("width",s+"%");var r,a=i.marks[s.toString()],l=a.idx;this.$steps.each(function(e){r=t(this),l<e?r.removeClass("step-undone").removeClass("step-active").addClass("step-done"):l==e?r.addClass("step-active"):r.removeClass("step-done").removeClass("step-active").addClass("step-undone")}),i.onChange(a.val)}this.oldValue=n},l.prototype.onMouseMove=function(t){var e=n(t);this.onMove(t,e)},l.prototype.onTouchMove=function(t){if(i(t))return void this.end("touch");var e=o(t);this.onMove(t,e)},l.prototype.onMove=function(t,e){s(t);var i=this.options,o=this.state,n=e-this.startPosition,r=n/this.getrangerLength()*(i.max-i.min),a=this.trimAlignValue(this.startValue+r),l=o[o.handle];if(a!==l){if(i.allowCross&&a<o.lowerBound&&"upperBound"===o.handle)return void this.onChange({handle:"lowerBound",lowerBound:a,upperBound:this.state.lowerBound});if(i.allowCross&&a>o.upperBound&&"lowerBound"===o.handle)return void this.onChange({handle:"upperBound",upperBound:a,lowerBound:this.state.upperBound});var h={};h[o.handle]=a,this.onChange(h)}},l.prototype.onTouchStart=function(t){if(!i(t)){var e=o(t);this.onStart(e),this.addDocumentEvents("touch"),s(t)}},l.prototype.onMouseDown=function(t){var e=n(t);this.onStart(e),this.addDocumentEvents("mouse"),s(t)},l.prototype.onStart=function(t){var e=this.options;e.onBeforeChange(this.getValue());var i=this.calcValueByPos(t);this.startValue=i,this.startPosition=t;var o=this.state,n=o.upperBound,s=o.lowerBound,r="upperBound";if(this.options.range){var a=Math.abs(n-i)>Math.abs(s-i);a&&(r="lowerBound");var l=n===s;l&&(r=o.recent),l&&i!==n&&(r=i<n?"lowerBound":"upperBound")}this.setState({handle:r,recent:r});var h=o[r];if(i!==h){var u={};u[r]=i,this.onChange(u)}},l.prototype.getValue=function(){var t=this.state.upperBound,e=this.state.lowerBound;return this.options.range?[e,t]:t},l.prototype.getrangerLength=function(){var t=this.$e[0];return t?t.clientWidth:0},l.prototype.getrangerStart=function(){var t=this.$e.position();return t.left},l.prototype.getPrecision=function(){var t=this.options,e=t.step.toString(),i=0;return e.indexOf(".")>=0&&(i=e.length-e.indexOf(".")-1),i},l.prototype.isValueOutOfBounds=function(t,e){return t<e.min||t>e.max},l.prototype.trimAlignValue=function(t,e){var i=this.state||{},o=i.handle,n=i.lowerBound,s=i.upperBound,r=Object.assign({},this.options,e||{}),a=r.marks,l=r.step,h=r.min,u=r.max,c=r.allowCross,d=t;d<=h&&(d=h),d>=u&&(d=u),!c&&"upperBound"===o&&d<=n&&(d=n),!c&&"lowerBound"===o&&d>=s&&(d=s);var p=Object.keys(a).map(parseFloat);if(null!==l){var m=Math.round(d/l)*l;p.push(m)}var f=p.map(function(t){return Math.abs(d-t)}),g=p[f.indexOf(Math.min.apply(Math,f))];return"number"!=typeof g?0:null!==l?parseFloat(g.toFixed(this.getPrecision())):g},l.prototype.calcOffset=function(t){var e=this.options.min,i=this.options.max,o=(t-e)/(i-e);return 100*o},l.prototype.calcValue=function(t){var e=this.options.min,i=this.options.max,o=t/this.getrangerLength();return o*(i-e)+e},l.prototype.calcValueByPos=function(t){var e=t-this.getrangerStart(),i=this.trimAlignValue(this.calcValue(e));return i},l.prototype.addDocumentEvents=function(t){"touch"===t?(this.edom.addEventListener("touchmove",this.onTouchMove.bind(this)),this.edom.addEventListener("touchend",this.end.bind(this,"touch"))):"mouse"===t&&(this.edom.addEventListener("mousemove",this.onMouseMove.bind(this)),this.edom.addEventListener("mouseup",this.end.bind(this,"mouse")))},l.prototype.removeEvents=function(t){"touch"===t?(this.edom.removeEventListener("touchmove",this.onTouchMove.bind(this)),this.edom.removeEventListener("touchend",this.end.bind(this,"touch"))):"mouse"===t&&(this.edom.removeEventListener("mousemove",this.onMouseMove.bind(this)),this.edom.removeEventListener("mouseup",this.end.bind(this,"mouse")))},l.prototype.end=function(t){this.removeEvents(t),this.options.onAfterChange(this.getValue()),this.setState({handle:null})};var h=t.fn.stepselector;t.fn.stepselector=function(e){Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this),o=i.data(a),n="object"==typeof e?e:{};if(o||"destroy"!==e)return o?(i.find(".elab-stepslector").remove(),o=new l(this,n),r.call(o)):(i.data(a,!0),o=new l(this,n),r.call(o))})},t.fn.stepselector.Constructor=l,t.fn.stepselector.noConflict=function(){return t.fn.stepselector=h,this}}(Zepto),function(t){"use strict";function e(){}function i(t){return t.touches.length>1||"touchend"===t.type.toLowerCase()&&t.touches.length>0}function o(t){return t.touches[0].pageX}function n(t){return t.pageX}function s(t){t.stopPropagation(),t.preventDefault()}function r(){var i,o,n,s,r,a=(this.options,[]),l=(this.state.handle,this.state.upperBound),h=this.state.lowerBound,u=(this.options.className,this.options.prefixCls,this.options.disabled),c=this.options.dots,d=this.options.included,p=this.options.range,m=(this.options.step,this.options.marks),f=this.options.markDirection,g=this.options.max,v=this.options.min,y=(this.options.tipTransitionName,this.options.tipFormatter,this.options.children,this.calcOffset(l),this.calcOffset(h),Object.keys(m)),b=y.length,w=100/(b-1),x=.9*w,j=g-v;if(a.push('<div class="elab-slider">'),p?(a.push('<div class="elab-slider-handle" style="left: '+this.initialWidth[1]+'%;"></div>'),a.push('<div class="elab-slider-handle" style="left: '+this.initialWidth[0]+'%;"></div>'),a.push('<div class="elab-slider-track" style="left: '+this.initialWidth[0]+"%; width: "+(this.initialWidth[1]-this.initialWidth[0])+'%; visibility: visible;"></div>')):(a.push('<div class="elab-slider-handle" style="left: '+this.initialWidth+'%;"></div>'),a.push('<div class="elab-slider-track" style="left: 0%; width: '+this.initialWidth+'%; visibility: visible;"></div>')),a.push('<div class="elab-slider-step">'),c)for(var z=0;z<y.length;z++)i=y[z],o=m[i],n=parseInt(i),s=p?this.initialWidth[0]<=n&&n<=this.initialWidth[1]?"elab-slider-dot-active":"":this.initialWidth<=n?"elab-slider-dot-active":"",a.push(['<span class="elab-slider-dot ',s,'" style="left:',i,'%;"></span>'].join(""));if(a.push("</div>"),a.push(['<div class="elab-slider-mark',"top"===f?" elab-slider-mark-top":"",'">'].join("")),m)for(var z=0;z<y.length;z++)i=y[z],o=m[i],n=parseInt(i),r=!d&&n===l||d&&n<=l&&n>=h,a.push(['<span class="elab-slider-mark-text',r?" elab-slider-mark-text-active":"",'"',' style="width:',x,"%;","left:",(n-v)/j*100-x/2,'%;"',' key="',i,'">',o.txt,"</span>"].join(""));a.push("</div>"),a.push("</div>"),this.$e=t(a.join("")),this.$parent.append(this.$e),this.$steps=this.$e.find("div.elab-slider-step>span"),this.$marks=this.$e.find("div.elab-slider-mark>span"),this.$upper=this.$e.find("div.elab-slider-handle").first(),this.$lower=p?this.$e.find("div.elab-slider-handle").last():null,this.$track=this.$e.find("div.elab-slider-track");var S=this.edom=this.$e[0];S.ontouchstart=u?e:this.onTouchStart.bind(this),S.onmousedown=u?e:this.onMouseDown.bind(this)}var a=".elab.zepto.slider",l=function(e,i){this.$parent=t(e),this.options=t.extend(!0,{},l.defaults,i);var o=this.options,n=o.marks,s=o.steps,r=o.range,a=o.min,h=o.max,u=r?[a,a]:h,c=o.defaultValue||u,d=r?[0,100]:100,p=o.value||c,m=r?[,]:0;s=s.split(o.separator);var f=Math.floor(100/(s.length+1)),g=100%(s.length+1),v=0,y=0;n[0]={val:s[0],txt:o.tipFormatter("0"),width:0,idx:0,visible:!1};for(var b=0;b<s.length;b++)v=b+1>g?f:f+1,y+=v,r?(d[0]=s[b]==c[0].toString()?y:d[0],d[1]=s[b]==c[1].toString()?y:d[1],p[0]=s[b]==c[0].toString()?y:p[0],p[1]=s[b]==c[1].toString()?y:p[1]):(d=s[b]==c.toString()?y:d,p=s[b]==c.toString()?y:p),n[y.toString()]={val:s[b],txt:o.tipFormatter(s[b]),width:v,idx:b+1,visible:!0};n[100]={val:null,txt:o.nilText,width:f,idx:s.length+1,visible:!0},this.options.marks=n,this.initialWidth=d,this.returnValue=m;var w,x;r?(x=this.trimAlignValue(p[0]),w=this.trimAlignValue(p[1])):w=this.trimAlignValue(p);var j;o.range&&w===x?(x===h&&(j="lowerBound"),w===a&&(j="upperBound")):j="upperBound",this.oldValue=p,this.state={handle:null,recent:j,upperBound:w,lowerBound:x||a}};l.defaults={prefixCls:"elab-slider",className:"",nilText:"",defaultValue:0,tipTransitionName:"",min:0,max:100,step:1,steps:"0,50,100",separator:",",marks:{},markDirection:"top",onBeforeChange:e,onChange:e,onAfterChange:e,tipFormatter:function(t){return t},included:!0,disabled:!1,dots:!0,range:!1,allowCross:!0},l.prototype.render=function(){var e,i=this.options,o=(this.state.lowerBound,this.state.upperBound,this.getClosestPoint(this.state.lowerBound)),n=this.getClosestPoint(this.state.upperBound),s=this.options.marks[o.toString()],r=this.options.marks[n.toString()];i.range?this.returnValue=[s.val,r.val]:this.returnValue=r.val,this.state.handle&&(this.state.upperBound=n,this.state.lowerBound=o,this.$steps.each(function(i){e=t(this),i<=r.idx&&s.idx<=i?e.addClass("elab-slider-dot-active"):e.removeClass("elab-slider-dot-active")}),this.$upper.css("left",n+"%"),i.range&&this.$lower.css("left",o+"%"),this.$track.css({left:o+"%",width:n-o+"%"}))},l.prototype.isChanged=function(){var t=this.getValue(),e=this.oldValue;return this.options.range?t[0]!=e[0]||t[1]!=e[1]:t!=e},l.prototype.setState=function(t){Object.assign(this.state,t||{}),this.isChanged()&&this.render()},l.prototype.getClosestPoint=function(t){var e=this.options.marks,i=Object.keys(e).map(parseFloat),o=i.map(function(e){return Math.abs(t-e)}),n=o.indexOf(Math.min.apply(Math,o));return i[n]},l.prototype.onChange=function(t){var e=this.options,i=!("value"in e);i?this.setState(t):t.handle&&this.setState({handle:t.handle});var o=this.getValue();this.isChanged()&&this.options.onChange(this.returnValue),this.oldValue=o},l.prototype.onMouseMove=function(t){var e=n(t);this.onMove(t,e)},l.prototype.onTouchMove=function(t){if(i(t))return void this.end("touch");var e=o(t);this.onMove(t,e)},l.prototype.onMove=function(t,e){s(t);var i=this.options,o=this.state,n=e-this.startPosition,r=n/this.getSliderLength()*(i.max-i.min),a=this.trimAlignValue(this.startValue+r),l=o[o.handle];if(a!==l){if(i.allowCross&&a<o.lowerBound&&"upperBound"===o.handle)return void this.onChange({handle:"lowerBound",lowerBound:a,upperBound:this.state.lowerBound});if(i.allowCross&&a>o.upperBound&&"lowerBound"===o.handle)return void this.onChange({handle:"upperBound",upperBound:a,lowerBound:this.state.upperBound});var h={};h[o.handle]=a,this.onChange(h)}},l.prototype.onTouchStart=function(t){if(!i(t)){var e=o(t);this.onStart(e),this.addDocumentEvents("touch"),s(t)}},l.prototype.onMouseDown=function(t){var e=n(t);this.onStart(e),this.addDocumentEvents("mouse"),s(t)},l.prototype.onStart=function(t){var e=this.options;e.onBeforeChange(this.getValue());var i=this.calcValueByPos(t);this.startValue=i,this.startPosition=t;var o=this.state,n=o.upperBound,s=o.lowerBound,r="upperBound";if(this.options.range){var a=Math.abs(n-i)>Math.abs(s-i);a&&(r="lowerBound");var l=n===s;l&&(r=o.recent),l&&i!==n&&(r=i<n?"lowerBound":"upperBound")}this.state.handle=r,this.state.recent=r;var h=o[r];if(i!==h){var u={};u[r]=i,this.onChange(u)}},l.prototype.getValue=function(){var t=this.state.upperBound,e=this.state.lowerBound;return this.options.range?[e,t]:t},l.prototype.getSliderLength=function(){var t=this.$e[0];return t?t.clientWidth:0},l.prototype.getSliderStart=function(){var t=this.$e.position();return t.left},l.prototype.getPrecision=function(){var t=this.options,e=t.step.toString(),i=0;return e.indexOf(".")>=0&&(i=e.length-e.indexOf(".")-1),i},l.prototype.isValueOutOfBounds=function(t,e){return t<e.min||t>e.max},l.prototype.trimAlignValue=function(t,e){var i=this.state||{},o=i.handle,n=i.lowerBound,s=i.upperBound,r=Object.assign({},this.options,e||{}),a=r.marks,l=r.step,h=r.min,u=r.max,c=r.allowCross,d=t;d<=h&&(d=h),d>=u&&(d=u),!c&&"upperBound"===o&&d<=n&&(d=n),!c&&"lowerBound"===o&&d>=s&&(d=s);var p=Object.keys(a).map(parseFloat);if(null!==l){var m=Math.round(d/l)*l;p.push(m)}var f=p.map(function(t){return Math.abs(d-t)}),g=p[f.indexOf(Math.min.apply(Math,f))];return"number"!=typeof g?0:null!==l?parseFloat(g.toFixed(this.getPrecision())):g},l.prototype.calcOffset=function(t){var e=this.options.min,i=this.options.max,o=(t-e)/(i-e);return 100*o},l.prototype.calcValue=function(t){var e=this.options.min,i=this.options.max,o=t/this.getSliderLength();return o*(i-e)+e},l.prototype.calcValueByPos=function(t){var e=t-this.getSliderStart(),i=this.trimAlignValue(this.calcValue(e));return i},l.prototype.addDocumentEvents=function(t){"touch"===t?(this.edom.addEventListener("touchmove",this.onTouchMove.bind(this)),this.edom.addEventListener("touchend",this.end.bind(this,"touch"))):"mouse"===t&&(this.edom.addEventListener("mousemove",this.onMouseMove.bind(this)),this.edom.addEventListener("mouseup",this.end.bind(this,"mouse")))},l.prototype.removeEvents=function(t){"touch"===t?(this.edom.removeEventListener("touchmove",this.onTouchMove.bind(this)),this.edom.removeEventListener("touchend",this.end.bind(this,"touch"))):"mouse"===t&&(this.edom.removeEventListener("mousemove",this.onMouseMove.bind(this)),this.edom.removeEventListener("mouseup",this.end.bind(this,"mouse")))},l.prototype.end=function(t){this.removeEvents(t),this.options.onAfterChange(this.getValue()),this.setState({handle:null})};var h=t.fn.slider;t.fn.slider=function(e){Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this),o=i.data(a),n="object"==typeof e?e:{};if(o||"destroy"!==e)return o?(i.find(".elab-slider").remove(),o=new l(this,n),r.call(o)):(i.data(a,!0),o=new l(this,n),r.call(o))})},t.fn.slider.Constructor=l,t.fn.slider.noConflict=function(){return t.fn.slider=h,this}}(Zepto),function(){var t;if(window.console&&"undefined"!=typeof console.log){try{(window.parent.__has_console_security_message||window.top.__has_console_security_message)&&(t=!0)}catch(e){t=!0}if(window.__has_console_security_message||t)return;var i="温馨提示：请不要调皮地在此粘贴执行任何内容，这可能会导致您的账户受到攻击，给您带来损失 ！^_^";/msie/gi.test(navigator.userAgent)?console.log(i):(console.log("%c Elab %c Copyright © 2015-%s",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;font-size:64px;color:#00bbee;-webkit-text-fill-color:#00bbee;-webkit-text-stroke: 1px #00bbee;',"font-size:12px;color:#999999;",(new Date).getFullYear()),console.log("%c "+i,"color:#333;font-size:16px;")),window.__has_console_security_message=!0}}();